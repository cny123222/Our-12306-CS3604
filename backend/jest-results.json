{"numFailedTestSuites":1,"numFailedTests":1,"numPassedTestSuites":16,"numPassedTests":370,"numPendingTestSuites":0,"numPendingTests":10,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":17,"numTotalTests":381,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1764638979940,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["Registration Database Service Tests","DB-FindUserByUsername - 根据用户名查找用户"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-FindUserByUsername - 根据用户名查找用户 应该能够根据用户名精确匹配查找用户记录","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该能够根据用户名精确匹配查找用户记录"},{"ancestorTitles":["Registration Database Service Tests","DB-FindUserByUsername - 根据用户名查找用户"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-FindUserByUsername - 根据用户名查找用户 如果用户不存在应该返回空结果","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"如果用户不存在应该返回空结果"},{"ancestorTitles":["Registration Database Service Tests","DB-FindUserByIdCardNumber - 根据证件号查找用户"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-FindUserByIdCardNumber - 根据证件号查找用户 应该能够根据证件类型和证件号码精确匹配查找用户记录","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该能够根据证件类型和证件号码精确匹配查找用户记录"},{"ancestorTitles":["Registration Database Service Tests","DB-FindUserByIdCardNumber - 根据证件号查找用户"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-FindUserByIdCardNumber - 根据证件号查找用户 如果用户不存在应该返回空结果","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"如果用户不存在应该返回空结果"},{"ancestorTitles":["Registration Database Service Tests","DB-FindUserByIdCardNumber - 根据证件号查找用户"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-FindUserByIdCardNumber - 根据证件号查找用户 用于检测证件号码是否已被注册","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"用于检测证件号码是否已被注册"},{"ancestorTitles":["Registration Database Service Tests","DB-CreateUser - 创建新用户记录"],"duration":128,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-CreateUser - 创建新用户记录 成功执行后users表中会增加一条新记录","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"成功执行后users表中会增加一条新记录"},{"ancestorTitles":["Registration Database Service Tests","DB-CreateUser - 创建新用户记录"],"duration":215,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-CreateUser - 创建新用户记录 如果用户名已存在应该失败并抛出唯一性约束错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"如果用户名已存在应该失败并抛出唯一性约束错误"},{"ancestorTitles":["Registration Database Service Tests","DB-CreateUser - 创建新用户记录"],"duration":169,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-CreateUser - 创建新用户记录 如果手机号已存在应该失败并抛出唯一性约束错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"如果手机号已存在应该失败并抛出唯一性约束错误"},{"ancestorTitles":["Registration Database Service Tests","DB-CreateUser - 创建新用户记录"],"duration":183,"failureDetails":[{"message":"\u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\nReceived promise resolved instead of rejected\nResolved to value: \u001b[31m10\u001b[39m"}],"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\nReceived promise resolved instead of rejected\nResolved to value: \u001b[31m10\u001b[39m\n    at expect (D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\node_modules\\expect\\build\\index.js:113:15)\n    at Object.expect (D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\services\\registrationDbService.test.js:190:13)"],"fullName":"Registration Database Service Tests DB-CreateUser - 创建新用户记录 如果证件号已存在应该失败并抛出唯一性约束错误","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"如果证件号已存在应该失败并抛出唯一性约束错误"},{"ancestorTitles":["Registration Database Service Tests","DB-CreateUser - 创建新用户记录"],"duration":112,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-CreateUser - 创建新用户记录 密码应以加密形式存储","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"密码应以加密形式存储"},{"ancestorTitles":["Registration Database Service Tests","DB-CreateUser - 创建新用户记录"],"duration":119,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-CreateUser - 创建新用户记录 应该记录创建时间和初始状态","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该记录创建时间和初始状态"},{"ancestorTitles":["Registration Database Service Tests","DB-CreateEmailVerificationCode - 创建邮箱验证码"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-CreateEmailVerificationCode - 创建邮箱验证码 应该生成6位数字验证码","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该生成6位数字验证码"},{"ancestorTitles":["Registration Database Service Tests","DB-CreateEmailVerificationCode - 创建邮箱验证码"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-CreateEmailVerificationCode - 创建邮箱验证码 应该存储验证码、邮箱地址、创建时间、过期时间","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"应该存储验证码、邮箱地址、创建时间、过期时间"},{"ancestorTitles":["Registration Database Service Tests","DB-CreateEmailVerificationCode - 创建邮箱验证码"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-CreateEmailVerificationCode - 创建邮箱验证码 应该设置验证码有效期为5-10分钟","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该设置验证码有效期为5-10分钟"},{"ancestorTitles":["Registration Database Service Tests","DB-CreateEmailVerificationCode - 创建邮箱验证码"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-CreateEmailVerificationCode - 创建邮箱验证码 应该记录发送状态和发送时间","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该记录发送状态和发送时间"},{"ancestorTitles":["Registration Database Service Tests","DB-VerifyEmailCode - 验证邮箱验证码"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-VerifyEmailCode - 验证邮箱验证码 应该能够根据邮箱地址和验证码查找记录","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该能够根据邮箱地址和验证码查找记录"},{"ancestorTitles":["Registration Database Service Tests","DB-VerifyEmailCode - 验证邮箱验证码"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-VerifyEmailCode - 验证邮箱验证码 应该检查验证码是否匹配","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该检查验证码是否匹配"},{"ancestorTitles":["Registration Database Service Tests","DB-VerifyEmailCode - 验证邮箱验证码"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-VerifyEmailCode - 验证邮箱验证码 应该检查验证码是否在有效期内","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该检查验证码是否在有效期内"},{"ancestorTitles":["Registration Database Service Tests","DB-VerifyEmailCode - 验证邮箱验证码"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Registration Database Service Tests DB-VerifyEmailCode - 验证邮箱验证码 验证成功后应该标记验证码为已使用","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"验证成功后应该标记验证码为已使用"}],"endTime":1764638986925,"message":"\u001b[1m\u001b[31m  \u001b[1m● \u001b[22m\u001b[1mRegistration Database Service Tests › DB-CreateUser - 创建新用户记录 › 如果证件号已存在应该失败并抛出唯一性约束错误\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m()\u001b[22m\n\n    Received promise resolved instead of rejected\n    Resolved to value: \u001b[31m10\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 188 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 189 |\u001b[39m       \u001b[90m// When & Then: 尝试使用同一证件号应该抛出错误\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 190 |\u001b[39m       \u001b[36mawait\u001b[39m expect(\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 191 |\u001b[39m         registrationDbService\u001b[33m.\u001b[39mcreateUser({\u001b[22m\n\u001b[2m     \u001b[90m 192 |\u001b[39m           username\u001b[33m:\u001b[39m \u001b[32m'user004'\u001b[39m\u001b[33m,\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 193 |\u001b[39m           password\u001b[33m:\u001b[39m \u001b[32m'hashedPassword2'\u001b[39m\u001b[33m,\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat expect (\u001b[22m\u001b[2mnode_modules/expect/build/index.js\u001b[2m:113:15)\u001b[22m\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.expect (\u001b[22m\u001b[2m\u001b[0m\u001b[36mtest/services/registrationDbService.test.js\u001b[39m\u001b[0m\u001b[2m:190:13)\u001b[22m\u001b[2m\u001b[22m\n","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\services\\registrationDbService.test.js","startTime":1764638980049,"status":"failed","summary":""},{"assertionResults":[{"ancestorTitles":["Login Integration Tests","注册到登录完整流程"],"duration":409,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 注册到登录完整流程 完整流程：注册 -> 登录 -> 验证 -> 成功","invocations":1,"location":null,"numPassingAsserts":18,"retryReasons":[],"status":"passed","title":"完整流程：注册 -> 登录 -> 验证 -> 成功"},{"ancestorTitles":["Login Integration Tests","错误场景测试"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 错误场景测试 登录 - 用户名不存在","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"登录 - 用户名不存在"},{"ancestorTitles":["Login Integration Tests","错误场景测试"],"duration":100,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 错误场景测试 登录 - 密码错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"登录 - 密码错误"},{"ancestorTitles":["Login Integration Tests","错误场景测试"],"duration":98,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 错误场景测试 使用邮箱登录","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"使用邮箱登录"},{"ancestorTitles":["Login Integration Tests","错误场景测试"],"duration":97,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 错误场景测试 使用手机号登录","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"使用手机号登录"},{"ancestorTitles":["Login Integration Tests","错误场景测试"],"duration":105,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 错误场景测试 发送验证码 - 证件号后4位错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"发送验证码 - 证件号后4位错误"},{"ancestorTitles":["Login Integration Tests","错误场景测试"],"duration":113,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 错误场景测试 验证登录 - 验证码错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"验证登录 - 验证码错误"},{"ancestorTitles":["Login Integration Tests","错误场景测试"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 错误场景测试 验证登录 - 会话已过期","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"验证登录 - 会话已过期"},{"ancestorTitles":["Login Integration Tests","完整登录流程测试"],"duration":116,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 完整登录流程测试 完整流程：用户名→密码→证件号→验证码→成功","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"完整流程：用户名→密码→证件号→验证码→成功"},{"ancestorTitles":["Login Integration Tests","完整登录流程测试"],"duration":119,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 完整登录流程测试 完整流程：邮箱→密码→证件号→验证码→成功","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"完整流程：邮箱→密码→证件号→验证码→成功"},{"ancestorTitles":["Login Integration Tests","完整登录流程测试"],"duration":129,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 完整登录流程测试 完整流程：手机号→密码→证件号→验证码→成功","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"完整流程：手机号→密码→证件号→验证码→成功"},{"ancestorTitles":["Login Integration Tests","完整登录流程测试"],"duration":125,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 完整登录流程测试 错误流程：证件号后4位错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"错误流程：证件号后4位错误"},{"ancestorTitles":["Login Integration Tests","完整登录流程测试"],"duration":118,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 完整登录流程测试 错误流程：验证码错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"错误流程：验证码错误"},{"ancestorTitles":["Login Integration Tests","完整登录流程测试"],"duration":121,"failureDetails":[],"failureMessages":[],"fullName":"Login Integration Tests 完整登录流程测试 错误流程：验证码过期（模拟）","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"错误流程：验证码过期（模拟）"}],"endTime":1764638994821,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\integration\\login.integration.test.js","startTime":1764638986948,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Password Reset Service Tests","verifyAccountInfo - 验证账户信息"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests verifyAccountInfo - 验证账户信息 应该成功验证匹配的账户信息","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该成功验证匹配的账户信息"},{"ancestorTitles":["Password Reset Service Tests","verifyAccountInfo - 验证账户信息"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests verifyAccountInfo - 验证账户信息 应该拒绝不匹配的证件号码","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝不匹配的证件号码"},{"ancestorTitles":["Password Reset Service Tests","verifyAccountInfo - 验证账户信息"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests verifyAccountInfo - 验证账户信息 应该拒绝不匹配的手机号","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝不匹配的手机号"},{"ancestorTitles":["Password Reset Service Tests","verifyAccountInfo - 验证账户信息"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests verifyAccountInfo - 验证账户信息 应该拒绝不匹配的证件类型","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝不匹配的证件类型"},{"ancestorTitles":["Password Reset Service Tests","sendResetCode - 发送重置验证码"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests sendResetCode - 发送重置验证码 应该成功发送验证码","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该成功发送验证码"},{"ancestorTitles":["Password Reset Service Tests","sendResetCode - 发送重置验证码"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests sendResetCode - 发送重置验证码 应该拒绝无效的sessionId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝无效的sessionId"},{"ancestorTitles":["Password Reset Service Tests","sendResetCode - 发送重置验证码"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests sendResetCode - 发送重置验证码 验证码应该在数据库中创建","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"验证码应该在数据库中创建"},{"ancestorTitles":["Password Reset Service Tests","sendResetCode - 发送重置验证码"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests sendResetCode - 发送重置验证码 验证码应该有120秒的有效期","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"验证码应该有120秒的有效期"},{"ancestorTitles":["Password Reset Service Tests","verifyResetCode - 验证重置验证码"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests verifyResetCode - 验证重置验证码 应该成功验证正确的验证码","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该成功验证正确的验证码"},{"ancestorTitles":["Password Reset Service Tests","verifyResetCode - 验证重置验证码"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests verifyResetCode - 验证重置验证码 应该拒绝错误的验证码","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝错误的验证码"},{"ancestorTitles":["Password Reset Service Tests","verifyResetCode - 验证重置验证码"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests verifyResetCode - 验证重置验证码 应该拒绝无效的sessionId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝无效的sessionId"},{"ancestorTitles":["Password Reset Service Tests","verifyResetCode - 验证重置验证码"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests verifyResetCode - 验证重置验证码 验证码验证后应该标记为已使用","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"验证码验证后应该标记为已使用"},{"ancestorTitles":["Password Reset Service Tests","resetPassword - 重置密码"],"duration":186,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests resetPassword - 重置密码 应该成功重置密码","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该成功重置密码"},{"ancestorTitles":["Password Reset Service Tests","resetPassword - 重置密码"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests resetPassword - 重置密码 应该拒绝不一致的密码","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝不一致的密码"},{"ancestorTitles":["Password Reset Service Tests","resetPassword - 重置密码"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests resetPassword - 重置密码 应该验证密码长度","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该验证密码长度"},{"ancestorTitles":["Password Reset Service Tests","resetPassword - 重置密码"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests resetPassword - 重置密码 应该验证密码复杂度","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该验证密码复杂度"},{"ancestorTitles":["Password Reset Service Tests","resetPassword - 重置密码"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests resetPassword - 重置密码 应该拒绝无效的resetToken","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝无效的resetToken"},{"ancestorTitles":["Password Reset Service Tests","resetPassword - 重置密码"],"duration":97,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests resetPassword - 重置密码 resetToken使用后应该被清理","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"resetToken使用后应该被清理"},{"ancestorTitles":["Password Reset Service Tests","cleanupExpiredData - 清理过期数据"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Service Tests cleanupExpiredData - 清理过期数据 应该清理过期的会话","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该清理过期的会话"}],"endTime":1764639001185,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\services\\passwordResetService.test.js","startTime":1764638994894,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/verify-account"],"duration":45,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/verify-account 应该成功验证匹配的账户信息","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该成功验证匹配的账户信息"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/verify-account"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/verify-account 应该拒绝不匹配的证件号码","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝不匹配的证件号码"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/verify-account"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/verify-account 应该拒绝不匹配的手机号","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝不匹配的手机号"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/verify-account"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/verify-account 应该验证必填字段","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该验证必填字段"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/verify-account"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/verify-account 应该验证手机号格式","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该验证手机号格式"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/send-code"],"duration":75,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/send-code 应该成功发送验证码","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该成功发送验证码"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/send-code"],"duration":41,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/send-code 应该拒绝无效的sessionId","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝无效的sessionId"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/send-code"],"duration":37,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/send-code 应该验证必填字段","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该验证必填字段"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/verify-code"],"duration":45,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/verify-code 应该成功验证正确的验证码","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该成功验证正确的验证码"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/verify-code"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/verify-code 应该拒绝错误的验证码","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝错误的验证码"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/verify-code"],"duration":25,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/verify-code 应该拒绝无效的sessionId","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该拒绝无效的sessionId"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/verify-code"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/verify-code 应该验证必填字段","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证必填字段"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/reset-password"],"duration":199,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/reset-password 应该成功重置密码","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该成功重置密码"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/reset-password"],"duration":38,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/reset-password 应该拒绝不一致的密码","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝不一致的密码"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/reset-password"],"duration":46,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/reset-password 应该验证密码长度","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该验证密码长度"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/reset-password"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/reset-password 应该验证密码复杂度","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该验证密码复杂度"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/reset-password"],"duration":38,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/reset-password 应该拒绝无效的resetToken","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝无效的resetToken"},{"ancestorTitles":["Password Reset Routes","POST /api/password-reset/reset-password"],"duration":39,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes POST /api/password-reset/reset-password 应该验证必填字段","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证必填字段"},{"ancestorTitles":["Password Reset Routes","完整密码重置流程测试"],"duration":216,"failureDetails":[],"failureMessages":[],"fullName":"Password Reset Routes 完整密码重置流程测试 应该完成从账户验证到密码重置的完整流程","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"应该完成从账户验证到密码重置的完整流程"}],"endTime":1764639007937,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\routes\\passwordReset.test.js","startTime":1764639001233,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["车次API测试","POST /api/trains/search - 搜索车次列表"],"duration":36,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/search - 搜索车次列表 应该验证出发地不为空","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证出发地不为空"},{"ancestorTitles":["车次API测试","POST /api/trains/search - 搜索车次列表"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/search - 搜索车次列表 应该验证到达地不为空","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证到达地不为空"},{"ancestorTitles":["车次API测试","POST /api/trains/search - 搜索车次列表"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/search - 搜索车次列表 无效的出发地应该返回错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"无效的出发地应该返回错误"},{"ancestorTitles":["车次API测试","POST /api/trains/search - 搜索车次列表"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/search - 搜索车次列表 无效的到达地应该返回错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"无效的到达地应该返回错误"},{"ancestorTitles":["车次API测试","POST /api/trains/search - 搜索车次列表"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/search - 搜索车次列表 有效的查询应该返回车次列表和时间戳","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"有效的查询应该返回车次列表和时间戳"},{"ancestorTitles":["车次API测试","POST /api/trains/search - 搜索车次列表"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/search - 搜索车次列表 支持按车次类型筛选","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"支持按车次类型筛选"},{"ancestorTitles":["车次API测试","POST /api/trains/search - 搜索车次列表"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/search - 搜索车次列表 应该在100毫秒内返回结果","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在100毫秒内返回结果"},{"ancestorTitles":["车次API测试","POST /api/trains/search - 搜索车次列表"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/search - 搜索车次列表 只返回直达车次，不包含换乘","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"只返回直达车次，不包含换乘"},{"ancestorTitles":["车次API测试","GET /api/trains/:trainNo - 获取车次详情"],"duration":44,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 GET /api/trains/:trainNo - 获取车次详情 有效的车次号应该返回详细信息","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"有效的车次号应该返回详细信息"},{"ancestorTitles":["车次API测试","GET /api/trains/:trainNo - 获取车次详情"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 GET /api/trains/:trainNo - 获取车次详情 无效的车次号应该返回404","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"无效的车次号应该返回404"},{"ancestorTitles":["车次API测试","POST /api/trains/available-seats - 计算余票数"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/available-seats - 计算余票数 应该返回各席别的余票数","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该返回各席别的余票数"},{"ancestorTitles":["车次API测试","POST /api/trains/available-seats - 计算余票数"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/available-seats - 计算余票数 余票数为0时应该返回0","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"余票数为0时应该返回0"},{"ancestorTitles":["车次API测试","POST /api/trains/available-seats - 计算余票数"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/available-seats - 计算余票数 余票数大于等于20时应该正确返回","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"余票数大于等于20时应该正确返回"},{"ancestorTitles":["车次API测试","POST /api/trains/available-seats - 计算余票数"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/available-seats - 计算余票数 对于非相邻两站，只计算全程空闲的座位","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"对于非相邻两站，只计算全程空闲的座位"},{"ancestorTitles":["车次API测试","POST /api/trains/available-seats - 计算余票数"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/available-seats - 计算余票数 车次无该席别时应该正确处理","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"车次无该席别时应该正确处理"},{"ancestorTitles":["车次API测试","POST /api/trains/available-seats - 计算余票数"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 POST /api/trains/available-seats - 计算余票数 缺少必要参数应该返回错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"缺少必要参数应该返回错误"},{"ancestorTitles":["车次API测试","GET /api/trains/filter-options - 获取筛选选项"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 GET /api/trains/filter-options - 获取筛选选项 应该返回出发站、到达站、席别类型列表","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"应该返回出发站、到达站、席别类型列表"},{"ancestorTitles":["车次API测试","GET /api/trains/filter-options - 获取筛选选项"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 GET /api/trains/filter-options - 获取筛选选项 返回的选项应该基于查询结果自动补全","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"返回的选项应该基于查询结果自动补全"},{"ancestorTitles":["车次API测试","GET /api/trains/filter-options - 获取筛选选项"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 GET /api/trains/filter-options - 获取筛选选项 缺少参数应该返回错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"缺少参数应该返回错误"},{"ancestorTitles":["车次API测试","GET /api/trains/available-dates - 获取可选日期"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 GET /api/trains/available-dates - 获取可选日期 应该返回已放票的日期列表和当前日期","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该返回已放票的日期列表和当前日期"},{"ancestorTitles":["车次API测试","GET /api/trains/available-dates - 获取可选日期"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 GET /api/trains/available-dates - 获取可选日期 不应该包含已过期的日期","invocations":1,"location":null,"numPassingAsserts":14,"retryReasons":[],"status":"passed","title":"不应该包含已过期的日期"},{"ancestorTitles":["车次API测试","GET /api/trains/available-dates - 获取可选日期"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 GET /api/trains/available-dates - 获取可选日期 不应该包含未开票的日期","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"不应该包含未开票的日期"},{"ancestorTitles":["车次API测试","边界情况测试"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 边界情况测试 出发地和到达地相同时的处理","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"出发地和到达地相同时的处理"},{"ancestorTitles":["车次API测试","边界情况测试"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 边界情况测试 查询过去的日期","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"查询过去的日期"},{"ancestorTitles":["车次API测试","边界情况测试"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 边界情况测试 查询很远的未来日期","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"查询很远的未来日期"},{"ancestorTitles":["车次API测试","边界情况测试"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 边界情况测试 处理无效的日期格式","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"处理无效的日期格式"},{"ancestorTitles":["车次API测试","并发请求测试"],"duration":44,"failureDetails":[],"failureMessages":[],"fullName":"车次API测试 并发请求测试 处理多个并发查询请求","invocations":1,"location":null,"numPassingAsserts":20,"retryReasons":[],"status":"passed","title":"处理多个并发查询请求"}],"endTime":1764639014422,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\routes\\trains.test.js","startTime":1764639008039,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["User Info API Routes","GET /api/user/info - 获取用户个人信息"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes GET /api/user/info - 获取用户个人信息 [AC1] 应该验证用户已登录","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC1] 应该验证用户已登录"},{"ancestorTitles":["User Info API Routes","GET /api/user/info - 获取用户个人信息"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes GET /api/user/info - 获取用户个人信息 [AC2] 应该返回用户的完整个人信息","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC2] 应该返回用户的完整个人信息"},{"ancestorTitles":["User Info API Routes","GET /api/user/info - 获取用户个人信息"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes GET /api/user/info - 获取用户个人信息 [AC3] 应该对手机号进行脱敏处理","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC3] 应该对手机号进行脱敏处理"},{"ancestorTitles":["User Info API Routes","PUT /api/user/email - 更新用户邮箱"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes PUT /api/user/email - 更新用户邮箱 [AC1] 应该验证用户已登录","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC1] 应该验证用户已登录"},{"ancestorTitles":["User Info API Routes","PUT /api/user/email - 更新用户邮箱"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes PUT /api/user/email - 更新用户邮箱 [AC2] 应该验证邮箱格式的合法性","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC2] 应该验证邮箱格式的合法性"},{"ancestorTitles":["User Info API Routes","PUT /api/user/email - 更新用户邮箱"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes PUT /api/user/email - 更新用户邮箱 [AC3] 应该成功更新用户邮箱","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC3] 应该成功更新用户邮箱"},{"ancestorTitles":["User Info API Routes","POST /api/user/phone/update-request - 请求更新用户手机号"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes POST /api/user/phone/update-request - 请求更新用户手机号 [AC1] 应该验证用户已登录","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC1] 应该验证用户已登录"},{"ancestorTitles":["User Info API Routes","POST /api/user/phone/update-request - 请求更新用户手机号"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes POST /api/user/phone/update-request - 请求更新用户手机号 [AC2] 应该验证新手机号格式正确","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC2] 应该验证新手机号格式正确"},{"ancestorTitles":["User Info API Routes","POST /api/user/phone/update-request - 请求更新用户手机号"],"duration":91,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes POST /api/user/phone/update-request - 请求更新用户手机号 [AC3] 应该验证登录密码正确","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC3] 应该验证登录密码正确"},{"ancestorTitles":["User Info API Routes","POST /api/user/phone/update-request - 请求更新用户手机号"],"duration":97,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes POST /api/user/phone/update-request - 请求更新用户手机号 [AC4] 应该验证新手机号未被其他用户使用","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC4] 应该验证新手机号未被其他用户使用"},{"ancestorTitles":["User Info API Routes","POST /api/user/phone/update-request - 请求更新用户手机号"],"duration":93,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes POST /api/user/phone/update-request - 请求更新用户手机号 [AC5] 应该成功发送验证码并返回会话ID","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC5] 应该成功发送验证码并返回会话ID"},{"ancestorTitles":["User Info API Routes","POST /api/user/phone/confirm-update - 确认更新用户手机号"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes POST /api/user/phone/confirm-update - 确认更新用户手机号 [AC1] 应该验证会话ID的有效性","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC1] 应该验证会话ID的有效性"},{"ancestorTitles":["User Info API Routes","POST /api/user/phone/confirm-update - 确认更新用户手机号"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes POST /api/user/phone/confirm-update - 确认更新用户手机号 [AC2] 应该验证短信验证码正确","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC2] 应该验证短信验证码正确"},{"ancestorTitles":["User Info API Routes","POST /api/user/phone/confirm-update - 确认更新用户手机号"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes POST /api/user/phone/confirm-update - 确认更新用户手机号 [AC3] 应该验证验证码未过期","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC3] 应该验证验证码未过期"},{"ancestorTitles":["User Info API Routes","POST /api/user/phone/confirm-update - 确认更新用户手机号"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes POST /api/user/phone/confirm-update - 确认更新用户手机号 [AC4] 应该成功更新手机号","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC4] 应该成功更新手机号"},{"ancestorTitles":["User Info API Routes","POST /api/user/phone/confirm-update - 确认更新用户手机号"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes POST /api/user/phone/confirm-update - 确认更新用户手机号 [AC5] 应该在控制台显示验证码信息","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC5] 应该在控制台显示验证码信息"},{"ancestorTitles":["User Info API Routes","GET /api/user/orders - 获取用户订单列表"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes GET /api/user/orders - 获取用户订单列表 [AC1] 应该验证用户已登录","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC1] 应该验证用户已登录"},{"ancestorTitles":["User Info API Routes","GET /api/user/orders - 获取用户订单列表"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes GET /api/user/orders - 获取用户订单列表 [AC2] 应该返回用户的订单列表","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC2] 应该返回用户的订单列表"},{"ancestorTitles":["User Info API Routes","GET /api/user/orders - 获取用户订单列表"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes GET /api/user/orders - 获取用户订单列表 [AC3] 应该支持按日期范围筛选","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC3] 应该支持按日期范围筛选"},{"ancestorTitles":["User Info API Routes","GET /api/user/orders - 获取用户订单列表"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes GET /api/user/orders - 获取用户订单列表 [AC4] 应该支持按关键词搜索","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC4] 应该支持按关键词搜索"},{"ancestorTitles":["User Info API Routes","GET /api/user/orders - 获取用户订单列表"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"User Info API Routes GET /api/user/orders - 获取用户订单列表 [AC5] 应该只返回30日内的订单","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[AC5] 应该只返回30日内的订单"}],"endTime":1764639020886,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\routes\\userInfo.test.js","startTime":1764639014496,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Authentication Routes","POST /api/auth/login"],"duration":120,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/login 应该成功登录有效用户","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该成功登录有效用户"},{"ancestorTitles":["Authentication Routes","POST /api/auth/login"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/login 应该拒绝无效的用户名/密码","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝无效的用户名/密码"},{"ancestorTitles":["Authentication Routes","POST /api/auth/login"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/login 应该验证必填字段","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该验证必填字段"},{"ancestorTitles":["Authentication Routes","POST /api/auth/login"],"duration":115,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/login 应该支持邮箱登录","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该支持邮箱登录"},{"ancestorTitles":["Authentication Routes","POST /api/auth/login"],"duration":99,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/login 应该支持手机号登录","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该支持手机号登录"},{"ancestorTitles":["Authentication Routes","POST /api/auth/send-verification-code","主要登录流程场景（sessionId + idCardLast4）"],"duration":123,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/send-verification-code 主要登录流程场景（sessionId + idCardLast4） 应该成功发送验证码（使用sessionId + idCardLast4）","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"应该成功发送验证码（使用sessionId + idCardLast4）"},{"ancestorTitles":["Authentication Routes","POST /api/auth/send-verification-code","主要登录流程场景（sessionId + idCardLast4）"],"duration":123,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/send-verification-code 主要登录流程场景（sessionId + idCardLast4） 应该验证证件号后4位格式不正确","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该验证证件号后4位格式不正确"},{"ancestorTitles":["Authentication Routes","POST /api/auth/send-verification-code","主要登录流程场景（sessionId + idCardLast4）"],"duration":99,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/send-verification-code 主要登录流程场景（sessionId + idCardLast4） 应该验证证件号后4位与数据库不匹配","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该验证证件号后4位与数据库不匹配"},{"ancestorTitles":["Authentication Routes","POST /api/auth/send-verification-code","主要登录流程场景（sessionId + idCardLast4）"],"duration":107,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/send-verification-code 主要登录流程场景（sessionId + idCardLast4） 应该限制发送频率（1分钟内重复发送）","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该限制发送频率（1分钟内重复发送）"},{"ancestorTitles":["Authentication Routes","POST /api/auth/send-verification-code","主要登录流程场景（sessionId + idCardLast4）"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/send-verification-code 主要登录流程场景（sessionId + idCardLast4） 应该验证会话无效或已过期","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该验证会话无效或已过期"},{"ancestorTitles":["Authentication Routes","POST /api/auth/send-verification-code","直接短信登录场景（phoneNumber）"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/send-verification-code 直接短信登录场景（phoneNumber） 应该成功发送短信验证码","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该成功发送短信验证码"},{"ancestorTitles":["Authentication Routes","POST /api/auth/send-verification-code","直接短信登录场景（phoneNumber）"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/send-verification-code 直接短信登录场景（phoneNumber） 应该验证手机号格式","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该验证手机号格式"},{"ancestorTitles":["Authentication Routes","POST /api/auth/send-verification-code","直接短信登录场景（phoneNumber）"],"duration":15,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/send-verification-code 直接短信登录场景（phoneNumber） 应该限制发送频率","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该限制发送频率"},{"ancestorTitles":["Authentication Routes","POST /api/auth/verify-login","主要登录流程场景（sessionId）"],"duration":109,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/verify-login 主要登录流程场景（sessionId） 应该成功验证短信登录（完整流程）","invocations":1,"location":null,"numPassingAsserts":7,"retryReasons":[],"status":"passed","title":"应该成功验证短信登录（完整流程）"},{"ancestorTitles":["Authentication Routes","POST /api/auth/verify-login","主要登录流程场景（sessionId）"],"duration":110,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/verify-login 主要登录流程场景（sessionId） 应该拒绝无效的验证码","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝无效的验证码"},{"ancestorTitles":["Authentication Routes","POST /api/auth/verify-login","主要登录流程场景（sessionId）"],"duration":98,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/verify-login 主要登录流程场景（sessionId） 应该验证验证码格式","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该验证验证码格式"},{"ancestorTitles":["Authentication Routes","POST /api/auth/verify-login","主要登录流程场景（sessionId）"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/verify-login 主要登录流程场景（sessionId） 应该验证会话无效或已过期","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该验证会话无效或已过期"},{"ancestorTitles":["Authentication Routes","POST /api/auth/verify-login","直接短信登录场景（phoneNumber）"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/verify-login 直接短信登录场景（phoneNumber） 应该成功验证短信登录","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该成功验证短信登录"},{"ancestorTitles":["Authentication Routes","POST /api/auth/verify-login","直接短信登录场景（phoneNumber）"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/verify-login 直接短信登录场景（phoneNumber） 应该拒绝无效的验证码","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝无效的验证码"},{"ancestorTitles":["Authentication Routes","POST /api/auth/verify-login","直接短信登录场景（phoneNumber）"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes POST /api/auth/verify-login 直接短信登录场景（phoneNumber） 应该验证验证码格式","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该验证验证码格式"},{"ancestorTitles":["Authentication Routes","GET /api/auth/homepage"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes GET /api/auth/homepage 应该返回首页内容","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"应该返回首页内容"},{"ancestorTitles":["Authentication Routes","GET /api/auth/forgot-password"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Authentication Routes GET /api/auth/forgot-password 应该返回忘记密码页面信息","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该返回忘记密码页面信息"}],"endTime":1764639028169,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\routes\\auth.test.js","startTime":1764639020902,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-username - 验证用户名"],"duration":68,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-username - 验证用户名 用户名长度小于6位时应返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"用户名长度小于6位时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-username - 验证用户名"],"duration":23,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-username - 验证用户名 用户名长度大于30位时应返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"用户名长度大于30位时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-username - 验证用户名"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-username - 验证用户名 用户名不以字母开头时应返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"用户名不以字母开头时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-username - 验证用户名"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-username - 验证用户名 用户名包含特殊字符时应返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"用户名包含特殊字符时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-username - 验证用户名"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-username - 验证用户名 用户名已存在时应返回409冲突错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"用户名已存在时应返回409冲突错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-username - 验证用户名"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-username - 验证用户名 合法且未被占用的用户名应返回200成功","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"合法且未被占用的用户名应返回200成功"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-password - 验证密码"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-password - 验证密码 密码长度小于6位时应返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"密码长度小于6位时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-password - 验证密码"],"duration":22,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-password - 验证密码 密码包含特殊字符时应返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"密码包含特殊字符时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-password - 验证密码"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-password - 验证密码 密码只包含一种字符类型时应返回400错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"密码只包含一种字符类型时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-password - 验证密码"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-password - 验证密码 符合规范的密码应返回200成功","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"符合规范的密码应返回200成功"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-name - 验证姓名"],"duration":24,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-name - 验证姓名 姓名长度小于3个字符时应返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"姓名长度小于3个字符时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-name - 验证姓名"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-name - 验证姓名 姓名长度大于30个字符时应返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"姓名长度大于30个字符时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-name - 验证姓名"],"duration":23,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-name - 验证姓名 姓名包含特殊字符时应返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"姓名包含特殊字符时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-name - 验证姓名"],"duration":33,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-name - 验证姓名 符合规范的姓名应返回200成功","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"符合规范的姓名应返回200成功"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-idcard - 验证证件号码"],"duration":26,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-idcard - 验证证件号码 证件号码长度不是18位时应返回400错误","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"证件号码长度不是18位时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-idcard - 验证证件号码"],"duration":30,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-idcard - 验证证件号码 证件号码包含非法字符时应返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"证件号码包含非法字符时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-idcard - 验证证件号码"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-idcard - 验证证件号码 证件号码已被注册但实时验证不检查重复","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"证件号码已被注册但实时验证不检查重复"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-idcard - 验证证件号码"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-idcard - 验证证件号码 符合规范的证件号码应返回200成功","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"符合规范的证件号码应返回200成功"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-email - 验证邮箱"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-email - 验证邮箱 邮箱不包含@符号时应返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"邮箱不包含@符号时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-email - 验证邮箱"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-email - 验证邮箱 邮箱不包含域名时应返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"邮箱不包含域名时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-email - 验证邮箱"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-email - 验证邮箱 符合规范的邮箱应返回200成功","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"符合规范的邮箱应返回200成功"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-phone - 验证手机号"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-phone - 验证手机号 手机号长度不是11位时应返回400错误","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"手机号长度不是11位时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-phone - 验证手机号"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-phone - 验证手机号 手机号包含非数字字符时应返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"手机号包含非数字字符时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/validate-phone - 验证手机号"],"duration":18,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/validate-phone - 验证手机号 符合规范的手机号应返回200成功","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"符合规范的手机号应返回200成功"},{"ancestorTitles":["Registration API Routes Tests","POST /api/auth/register - 用户注册"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/auth/register - 用户注册 缺少必填字段时应返回400错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"缺少必填字段时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/auth/register - 用户注册"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/auth/register - 用户注册 密码和确认密码不一致时应返回400错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"密码和确认密码不一致时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/auth/register - 用户注册"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/auth/register - 用户注册 未勾选用户协议时应返回400错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"未勾选用户协议时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/auth/register - 用户注册"],"duration":21,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/auth/register - 用户注册 用户名已存在时应返回409冲突错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"用户名已存在时应返回409冲突错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/auth/register - 用户注册"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/auth/register - 用户注册 相同证件类型+相同证件号码已被注册时应返回409冲突错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"相同证件类型+相同证件号码已被注册时应返回409冲突错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/auth/register - 用户注册"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/auth/register - 用户注册 不同证件类型+相同证件号码应该允许注册","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"不同证件类型+相同证件号码应该允许注册"},{"ancestorTitles":["Registration API Routes Tests","POST /api/auth/register - 用户注册"],"duration":44,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/auth/register - 用户注册 相同证件类型+不同证件号码应该允许注册","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"相同证件类型+不同证件号码应该允许注册"},{"ancestorTitles":["Registration API Routes Tests","POST /api/auth/register - 用户注册"],"duration":27,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/auth/register - 用户注册 手机号码已被其他用户使用时应返回409冲突错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"手机号码已被其他用户使用时应返回409冲突错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/auth/register - 用户注册"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/auth/register - 用户注册 邮箱已被其他用户使用时应返回409冲突错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"邮箱已被其他用户使用时应返回409冲突错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/auth/register - 用户注册"],"duration":24,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/auth/register - 用户注册 所有信息合法时应返回201并创建会话","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"所有信息合法时应返回201并创建会话"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/send-verification-code - 发送注册验证码"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/send-verification-code - 发送注册验证码 会话无效时应返回400错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"会话无效时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/send-verification-code - 发送注册验证码"],"duration":35,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/send-verification-code - 发送注册验证码 请求过于频繁时应返回429错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"请求过于频繁时应返回429错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/send-verification-code - 发送注册验证码"],"duration":36,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/send-verification-code - 发送注册验证码 有效请求应返回200成功","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"有效请求应返回200成功"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/complete - 完成注册"],"duration":37,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/complete - 完成注册 验证码错误时应返回400错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"验证码错误时应返回400错误"},{"ancestorTitles":["Registration API Routes Tests","POST /api/register/complete - 完成注册"],"duration":33,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests POST /api/register/complete - 完成注册 验证码正确时应返回201并创建用户","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"验证码正确时应返回201并创建用户"},{"ancestorTitles":["Registration API Routes Tests","GET /api/terms/service-terms - 获取服务条款"],"duration":19,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests GET /api/terms/service-terms - 获取服务条款 应该返回服务条款内容","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该返回服务条款内容"},{"ancestorTitles":["Registration API Routes Tests","GET /api/terms/privacy-policy - 获取隐私政策"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"Registration API Routes Tests GET /api/terms/privacy-policy - 获取隐私政策 应该返回隐私政策内容","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该返回隐私政策内容"}],"endTime":1764639035362,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\routes\\register.test.js","startTime":1764639028196,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["站点API测试","GET /api/stations - 获取所有站点列表"],"duration":29,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 GET /api/stations - 获取所有站点列表 应该返回所有站点列表","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该返回所有站点列表"},{"ancestorTitles":["站点API测试","GET /api/stations - 获取所有站点列表"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 GET /api/stations - 获取所有站点列表 提供关键词时应该返回匹配的站点列表","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"提供关键词时应该返回匹配的站点列表"},{"ancestorTitles":["站点API测试","GET /api/stations - 获取所有站点列表"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 GET /api/stations - 获取所有站点列表 支持简拼搜索站点","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"支持简拼搜索站点"},{"ancestorTitles":["站点API测试","GET /api/stations - 获取所有站点列表"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 GET /api/stations - 获取所有站点列表 支持全拼搜索站点","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"支持全拼搜索站点"},{"ancestorTitles":["站点API测试","GET /api/stations - 获取所有站点列表"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 GET /api/stations - 获取所有站点列表 支持汉字搜索站点","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"支持汉字搜索站点"},{"ancestorTitles":["站点API测试","GET /api/stations - 获取所有站点列表"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 GET /api/stations - 获取所有站点列表 无匹配结果时返回空数组","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"无匹配结果时返回空数组"},{"ancestorTitles":["站点API测试","POST /api/stations/validate - 验证站点是否有效"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 POST /api/stations/validate - 验证站点是否有效 有效站点应该返回valid: true","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"有效站点应该返回valid: true"},{"ancestorTitles":["站点API测试","POST /api/stations/validate - 验证站点是否有效"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 POST /api/stations/validate - 验证站点是否有效 无效站点应该返回valid: false和推荐列表","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"无效站点应该返回valid: false和推荐列表"},{"ancestorTitles":["站点API测试","POST /api/stations/validate - 验证站点是否有效"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 POST /api/stations/validate - 验证站点是否有效 部分匹配的站点名应该返回推荐列表","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"部分匹配的站点名应该返回推荐列表"},{"ancestorTitles":["站点API测试","POST /api/stations/validate - 验证站点是否有效"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 POST /api/stations/validate - 验证站点是否有效 空站点名应该返回错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"空站点名应该返回错误"},{"ancestorTitles":["站点API测试","POST /api/stations/validate - 验证站点是否有效"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 POST /api/stations/validate - 验证站点是否有效 未提供stationName参数应该返回错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"未提供stationName参数应该返回错误"},{"ancestorTitles":["站点API测试","边界情况测试"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 边界情况测试 处理超长关键词","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"处理超长关键词"},{"ancestorTitles":["站点API测试","边界情况测试"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 边界情况测试 处理特殊字符","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"处理特殊字符"},{"ancestorTitles":["站点API测试","边界情况测试"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 边界情况测试 处理SQL注入尝试","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"处理SQL注入尝试"},{"ancestorTitles":["站点API测试","性能测试"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 性能测试 查询所有站点应该在合理时间内完成","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"查询所有站点应该在合理时间内完成"},{"ancestorTitles":["站点API测试","性能测试"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"站点API测试 性能测试 站点搜索应该在合理时间内完成","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"站点搜索应该在合理时间内完成"}],"endTime":1764639041560,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\routes\\stations.test.js","startTime":1764639035378,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["AuthService","validateCredentials"],"duration":83,"failureDetails":[],"failureMessages":[],"fullName":"AuthService validateCredentials 应该验证有效的用户名和密码","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该验证有效的用户名和密码"},{"ancestorTitles":["AuthService","validateCredentials"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"AuthService validateCredentials 应该拒绝无效的凭据","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该拒绝无效的凭据"},{"ancestorTitles":["AuthService","validateCredentials"],"duration":83,"failureDetails":[],"failureMessages":[],"fullName":"AuthService validateCredentials 应该支持邮箱验证","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该支持邮箱验证"},{"ancestorTitles":["AuthService","validateCredentials"],"duration":107,"failureDetails":[],"failureMessages":[],"fullName":"AuthService validateCredentials 应该支持手机号验证","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该支持手机号验证"},{"ancestorTitles":["AuthService","generateSessionId"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AuthService generateSessionId 应该生成有效的会话ID","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该生成有效的会话ID"},{"ancestorTitles":["AuthService","generateSessionId"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AuthService generateSessionId 应该生成唯一的会话ID","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该生成唯一的会话ID"},{"ancestorTitles":["AuthService","validateIdCard"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"AuthService validateIdCard 应该验证有效的身份证号","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"应该验证有效的身份证号"},{"ancestorTitles":["AuthService","validateIdCard"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"AuthService validateIdCard 应该拒绝无效的身份证号","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"应该拒绝无效的身份证号"},{"ancestorTitles":["AuthService","validateIdCard"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"AuthService validateIdCard 应该拒绝空身份证号","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"应该拒绝空身份证号"},{"ancestorTitles":["AuthService","generateSmsCode"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"AuthService generateSmsCode 应该生成6位数字验证码","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"应该生成6位数字验证码"},{"ancestorTitles":["AuthService","generateSmsCode"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"AuthService generateSmsCode 应该生成不同的验证码","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"应该生成不同的验证码"},{"ancestorTitles":["AuthService","verifySmsCode"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"AuthService verifySmsCode 应该验证正确的短信验证码","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"应该验证正确的短信验证码"},{"ancestorTitles":["AuthService","verifySmsCode"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"AuthService verifySmsCode 应该拒绝错误的验证码","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"应该拒绝错误的验证码"},{"ancestorTitles":["AuthService","verifySmsCode"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"AuthService verifySmsCode 应该拒绝过期的验证码","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"应该拒绝过期的验证码"},{"ancestorTitles":["AuthService","generateJwtToken"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"AuthService generateJwtToken 应该生成有效的JWT令牌","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"应该生成有效的JWT令牌"},{"ancestorTitles":["AuthService","generateJwtToken"],"duration":null,"failureDetails":[],"failureMessages":[],"fullName":"AuthService generateJwtToken 应该为不同用户生成不同的令牌","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"pending","title":"应该为不同用户生成不同的令牌"},{"ancestorTitles":["AuthService","identifyIdentifierType"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"AuthService identifyIdentifierType 应该识别用户名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该识别用户名"},{"ancestorTitles":["AuthService","identifyIdentifierType"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AuthService identifyIdentifierType 应该识别邮箱","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该识别邮箱"},{"ancestorTitles":["AuthService","identifyIdentifierType"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AuthService identifyIdentifierType 应该识别手机号","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该识别手机号"},{"ancestorTitles":["AuthService","identifyIdentifierType"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"AuthService identifyIdentifierType 应该处理无效格式","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该处理无效格式"}],"endTime":1764639048292,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\services\\authService.test.js","startTime":1764639041576,"status":"focused","summary":""},{"assertionResults":[{"ancestorTitles":["Orders API Routes Tests","GET /api/orders/new - 获取订单填写页面信息"],"duration":17,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests GET /api/orders/new - 获取订单填写页面信息 应该成功返回订单填写页面数据","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"应该成功返回订单填写页面数据"},{"ancestorTitles":["Orders API Routes Tests","GET /api/orders/new - 获取订单填写页面信息"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests GET /api/orders/new - 获取订单填写页面信息 缺少参数时应该返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"缺少参数时应该返回400错误"},{"ancestorTitles":["Orders API Routes Tests","GET /api/orders/new - 获取订单填写页面信息"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests GET /api/orders/new - 获取订单填写页面信息 车次不存在时应该返回404错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"车次不存在时应该返回404错误"},{"ancestorTitles":["Orders API Routes Tests","GET /api/orders/new - 获取订单填写页面信息"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests GET /api/orders/new - 获取订单填写页面信息 未登录时应该返回401错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"未登录时应该返回401错误"},{"ancestorTitles":["Orders API Routes Tests","GET /api/orders/new - 获取订单填写页面信息"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests GET /api/orders/new - 获取订单填写页面信息 应该在100ms内返回页面数据","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该在100ms内返回页面数据"},{"ancestorTitles":["Orders API Routes Tests","GET /api/orders/available-seat-types - 获取有票席别列表"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests GET /api/orders/available-seat-types - 获取有票席别列表 应该返回当前有余票的席别列表","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该返回当前有余票的席别列表"},{"ancestorTitles":["Orders API Routes Tests","GET /api/orders/available-seat-types - 获取有票席别列表"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests GET /api/orders/available-seat-types - 获取有票席别列表 已售罄的席别不应该包含在列表中","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"已售罄的席别不应该包含在列表中"},{"ancestorTitles":["Orders API Routes Tests","POST /api/orders/submit - 提交订单"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests POST /api/orders/submit - 提交订单 应该成功提交订单并返回订单详情","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该成功提交订单并返回订单详情"},{"ancestorTitles":["Orders API Routes Tests","POST /api/orders/submit - 提交订单"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests POST /api/orders/submit - 提交订单 未选择乘车人时应该返回400错误：\"请选择乘车人！\"","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"未选择乘车人时应该返回400错误：\"请选择乘车人！\""},{"ancestorTitles":["Orders API Routes Tests","POST /api/orders/submit - 提交订单"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests POST /api/orders/submit - 提交订单 车票售罄时应该返回400错误：\"手慢了，该车次席别车票已售罄！\"","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"车票售罄时应该返回400错误：\"手慢了，该车次席别车票已售罄！\""},{"ancestorTitles":["Orders API Routes Tests","POST /api/orders/submit - 提交订单"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests POST /api/orders/submit - 提交订单 网络异常时应该返回500错误：\"网络忙，请稍后再试\"","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"网络异常时应该返回500错误：\"网络忙，请稍后再试\""},{"ancestorTitles":["Orders API Routes Tests","POST /api/orders/submit - 提交订单"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests POST /api/orders/submit - 提交订单 应该在100ms内返回订单详情并跳出信息核对弹窗","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该在100ms内返回订单详情并跳出信息核对弹窗"},{"ancestorTitles":["Orders API Routes Tests","POST /api/orders/submit - 提交订单"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests POST /api/orders/submit - 提交订单 应该验证所选席别有足够余票","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证所选席别有足够余票"},{"ancestorTitles":["Orders API Routes Tests","GET /api/orders/:orderId/confirmation - 获取订单核对信息"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests GET /api/orders/:orderId/confirmation - 获取订单核对信息 应该返回完整的订单核对信息","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该返回完整的订单核对信息"},{"ancestorTitles":["Orders API Routes Tests","GET /api/orders/:orderId/confirmation - 获取订单核对信息"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests GET /api/orders/:orderId/confirmation - 获取订单核对信息 订单不存在时应该返回404错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"订单不存在时应该返回404错误"},{"ancestorTitles":["Orders API Routes Tests","GET /api/orders/:orderId/confirmation - 获取订单核对信息"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests GET /api/orders/:orderId/confirmation - 获取订单核对信息 应该验证订单属于当前用户","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该验证订单属于当前用户"},{"ancestorTitles":["Orders API Routes Tests","POST /api/orders/:orderId/confirm - 确认订单"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests POST /api/orders/:orderId/confirm - 确认订单 应该成功确认订单","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该成功确认订单"},{"ancestorTitles":["Orders API Routes Tests","POST /api/orders/:orderId/confirm - 确认订单"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests POST /api/orders/:orderId/confirm - 确认订单 订单不存在时应该返回404错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"订单不存在时应该返回404错误"},{"ancestorTitles":["Orders API Routes Tests","POST /api/orders/:orderId/confirm - 确认订单"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests POST /api/orders/:orderId/confirm - 确认订单 订单状态错误时应该返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"订单状态错误时应该返回400错误"},{"ancestorTitles":["Orders API Routes Tests","POST /api/orders/:orderId/confirm - 确认订单"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests POST /api/orders/:orderId/confirm - 确认订单 应该确认座位分配","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该确认座位分配"},{"ancestorTitles":["Orders API Routes Tests","POST /api/orders/:orderId/confirm - 确认订单"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests POST /api/orders/:orderId/confirm - 确认订单 应该更新订单状态为处理中","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该更新订单状态为处理中"},{"ancestorTitles":["Orders API Routes Tests","边界情况和错误处理"],"duration":12,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests 边界情况和错误处理 所有接口都应该验证用户登录状态","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"所有接口都应该验证用户登录状态"},{"ancestorTitles":["Orders API Routes Tests","边界情况和错误处理"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests 边界情况和错误处理 应该正确处理数据库连接错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确处理数据库连接错误"},{"ancestorTitles":["Orders API Routes Tests","边界情况和错误处理"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests 边界情况和错误处理 应该正确处理无效的订单ID格式","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确处理无效的订单ID格式"},{"ancestorTitles":["Orders API Routes Tests","边界情况和错误处理"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Orders API Routes Tests 边界情况和错误处理 应该正确处理超大的乘客列表","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确处理超大的乘客列表"}],"endTime":1764639054551,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\routes\\orders.test.js","startTime":1764639048304,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["passengerManagementDbService","checkPassengerExists - 检查乘客信息是否已存在"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"passengerManagementDbService checkPassengerExists - 检查乘客信息是否已存在 应该在乘客已存在时返回true","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"应该在乘客已存在时返回true"},{"ancestorTitles":["passengerManagementDbService","checkPassengerExists - 检查乘客信息是否已存在"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"passengerManagementDbService checkPassengerExists - 检查乘客信息是否已存在 应该在乘客不存在时返回false","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"应该在乘客不存在时返回false"},{"ancestorTitles":["passengerManagementDbService","checkPassengerExists - 检查乘客信息是否已存在"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"passengerManagementDbService checkPassengerExists - 检查乘客信息是否已存在 应该检查用户ID、姓名和证件号码的组合","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"应该检查用户ID、姓名和证件号码的组合"},{"ancestorTitles":["passengerManagementDbService","checkPassengerExists - 检查乘客信息是否已存在"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"passengerManagementDbService checkPassengerExists - 检查乘客信息是否已存在 应该只检查当前用户的乘客列表","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"应该只检查当前用户的乘客列表"},{"ancestorTitles":["passengerManagementDbService","getPassengerByIdCard - 根据证件号码获取乘客信息"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"passengerManagementDbService getPassengerByIdCard - 根据证件号码获取乘客信息 应该根据证件号码返回乘客的完整信息","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"应该根据证件号码返回乘客的完整信息"},{"ancestorTitles":["passengerManagementDbService","getPassengerByIdCard - 根据证件号码获取乘客信息"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"passengerManagementDbService getPassengerByIdCard - 根据证件号码获取乘客信息 [Security] 应该只允许访问属于当前用户的乘客","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"[Security] 应该只允许访问属于当前用户的乘客"},{"ancestorTitles":["passengerManagementDbService","getPassengerByIdCard - 根据证件号码获取乘客信息"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"passengerManagementDbService getPassengerByIdCard - 根据证件号码获取乘客信息 应该在乘客不存在时返回null","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"应该在乘客不存在时返回null"},{"ancestorTitles":["passengerManagementDbService","getPassengerByIdCard - 根据证件号码获取乘客信息"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"passengerManagementDbService getPassengerByIdCard - 根据证件号码获取乘客信息 应该包含添加日期信息","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"应该包含添加日期信息"}],"endTime":1764639060392,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\services\\passengerManagementDbService.test.js","startTime":1764639054582,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["Passengers API Routes Tests","GET /api/passengers - 获取用户乘客列表"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests GET /api/passengers - 获取用户乘客列表 应该返回用户的所有乘客信息","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该返回用户的所有乘客信息"},{"ancestorTitles":["Passengers API Routes Tests","GET /api/passengers - 获取用户乘客列表"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests GET /api/passengers - 获取用户乘客列表 应该返回证件号码部分脱敏的乘客信息","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该返回证件号码部分脱敏的乘客信息"},{"ancestorTitles":["Passengers API Routes Tests","GET /api/passengers - 获取用户乘客列表"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests GET /api/passengers - 获取用户乘客列表 用户没有乘客时应该返回空数组","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"用户没有乘客时应该返回空数组"},{"ancestorTitles":["Passengers API Routes Tests","GET /api/passengers - 获取用户乘客列表"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests GET /api/passengers - 获取用户乘客列表 未登录时应该返回401错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"未登录时应该返回401错误"},{"ancestorTitles":["Passengers API Routes Tests","GET /api/passengers - 获取用户乘客列表"],"duration":11,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests GET /api/passengers - 获取用户乘客列表 获取乘客列表失败时应该返回500错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"获取乘客列表失败时应该返回500错误"},{"ancestorTitles":["Passengers API Routes Tests","POST /api/passengers/search - 搜索乘客"],"duration":20,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests POST /api/passengers/search - 搜索乘客 应该根据姓名关键词搜索匹配的乘客","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该根据姓名关键词搜索匹配的乘客"},{"ancestorTitles":["Passengers API Routes Tests","POST /api/passengers/search - 搜索乘客"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests POST /api/passengers/search - 搜索乘客 应该支持模糊匹配","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该支持模糊匹配"},{"ancestorTitles":["Passengers API Routes Tests","POST /api/passengers/search - 搜索乘客"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests POST /api/passengers/search - 搜索乘客 搜索无结果时应该返回空数组","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"搜索无结果时应该返回空数组"},{"ancestorTitles":["Passengers API Routes Tests","POST /api/passengers/search - 搜索乘客"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests POST /api/passengers/search - 搜索乘客 未提供关键词时应该返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"未提供关键词时应该返回400错误"},{"ancestorTitles":["Passengers API Routes Tests","POST /api/passengers/search - 搜索乘客"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests POST /api/passengers/search - 搜索乘客 未登录时应该返回401错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"未登录时应该返回401错误"},{"ancestorTitles":["Passengers API Routes Tests","POST /api/passengers - 添加乘客"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests POST /api/passengers - 添加乘客 应该成功添加乘客","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该成功添加乘客"},{"ancestorTitles":["Passengers API Routes Tests","POST /api/passengers - 添加乘客"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests POST /api/passengers - 添加乘客 缺少必填字段时应该返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"缺少必填字段时应该返回400错误"},{"ancestorTitles":["Passengers API Routes Tests","POST /api/passengers - 添加乘客"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests POST /api/passengers - 添加乘客 证件号码格式错误时应该返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"证件号码格式错误时应该返回400错误"},{"ancestorTitles":["Passengers API Routes Tests","POST /api/passengers - 添加乘客"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests POST /api/passengers - 添加乘客 证件号码已存在时应该返回409错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"证件号码已存在时应该返回409错误"},{"ancestorTitles":["Passengers API Routes Tests","POST /api/passengers - 添加乘客"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests POST /api/passengers - 添加乘客 应该验证乘客信息的完整性","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证乘客信息的完整性"},{"ancestorTitles":["Passengers API Routes Tests","POST /api/passengers - 添加乘客"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests POST /api/passengers - 添加乘客 应该验证姓名长度在3-30个字符之间","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证姓名长度在3-30个字符之间"},{"ancestorTitles":["Passengers API Routes Tests","POST /api/passengers - 添加乘客"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests POST /api/passengers - 添加乘客 未登录时应该返回401错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"未登录时应该返回401错误"},{"ancestorTitles":["Passengers API Routes Tests","PUT /api/passengers/:passengerId - 更新乘客信息"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests PUT /api/passengers/:passengerId - 更新乘客信息 应该成功更新乘客信息","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该成功更新乘客信息"},{"ancestorTitles":["Passengers API Routes Tests","PUT /api/passengers/:passengerId - 更新乘客信息"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests PUT /api/passengers/:passengerId - 更新乘客信息 乘客不存在时应该返回404错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"乘客不存在时应该返回404错误"},{"ancestorTitles":["Passengers API Routes Tests","PUT /api/passengers/:passengerId - 更新乘客信息"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests PUT /api/passengers/:passengerId - 更新乘客信息 乘客不属于当前用户时应该返回403错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"乘客不属于当前用户时应该返回403错误"},{"ancestorTitles":["Passengers API Routes Tests","PUT /api/passengers/:passengerId - 更新乘客信息"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests PUT /api/passengers/:passengerId - 更新乘客信息 更新数据格式错误时应该返回400错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"更新数据格式错误时应该返回400错误"},{"ancestorTitles":["Passengers API Routes Tests","PUT /api/passengers/:passengerId - 更新乘客信息"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests PUT /api/passengers/:passengerId - 更新乘客信息 未登录时应该返回401错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"未登录时应该返回401错误"},{"ancestorTitles":["Passengers API Routes Tests","DELETE /api/passengers/:passengerId - 删除乘客"],"duration":13,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests DELETE /api/passengers/:passengerId - 删除乘客 应该成功删除乘客","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该成功删除乘客"},{"ancestorTitles":["Passengers API Routes Tests","DELETE /api/passengers/:passengerId - 删除乘客"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests DELETE /api/passengers/:passengerId - 删除乘客 乘客不存在时应该返回404错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"乘客不存在时应该返回404错误"},{"ancestorTitles":["Passengers API Routes Tests","DELETE /api/passengers/:passengerId - 删除乘客"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests DELETE /api/passengers/:passengerId - 删除乘客 乘客不属于当前用户时应该返回403错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"乘客不属于当前用户时应该返回403错误"},{"ancestorTitles":["Passengers API Routes Tests","DELETE /api/passengers/:passengerId - 删除乘客"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests DELETE /api/passengers/:passengerId - 删除乘客 乘客有未完成的订单时应该返回400错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"乘客有未完成的订单时应该返回400错误"},{"ancestorTitles":["Passengers API Routes Tests","DELETE /api/passengers/:passengerId - 删除乘客"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests DELETE /api/passengers/:passengerId - 删除乘客 未登录时应该返回401错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"未登录时应该返回401错误"},{"ancestorTitles":["Passengers API Routes Tests","GET /api/passengers/:passengerId - 获取乘客详细信息"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests GET /api/passengers/:passengerId - 获取乘客详细信息 应该返回指定乘客的详细信息","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该返回指定乘客的详细信息"},{"ancestorTitles":["Passengers API Routes Tests","GET /api/passengers/:passengerId - 获取乘客详细信息"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests GET /api/passengers/:passengerId - 获取乘客详细信息 乘客不存在时应该返回404错误","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"乘客不存在时应该返回404错误"},{"ancestorTitles":["Passengers API Routes Tests","GET /api/passengers/:passengerId - 获取乘客详细信息"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests GET /api/passengers/:passengerId - 获取乘客详细信息 乘客不属于当前用户时应该返回403错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"乘客不属于当前用户时应该返回403错误"},{"ancestorTitles":["Passengers API Routes Tests","边界情况和错误处理"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests 边界情况和错误处理 所有接口都应该验证用户登录状态","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"所有接口都应该验证用户登录状态"},{"ancestorTitles":["Passengers API Routes Tests","边界情况和错误处理"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests 边界情况和错误处理 应该正确处理数据库连接错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确处理数据库连接错误"},{"ancestorTitles":["Passengers API Routes Tests","边界情况和错误处理"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests 边界情况和错误处理 应该正确处理无效的乘客ID格式","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确处理无效的乘客ID格式"},{"ancestorTitles":["Passengers API Routes Tests","边界情况和错误处理"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests 边界情况和错误处理 应该正确处理特殊字符的姓名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确处理特殊字符的姓名"},{"ancestorTitles":["Passengers API Routes Tests","边界情况和错误处理"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests 边界情况和错误处理 应该正确处理过长的搜索关键词","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确处理过长的搜索关键词"},{"ancestorTitles":["Passengers API Routes Tests","边界情况和错误处理"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests 边界情况和错误处理 应该验证证件号码的唯一性（同一用户不能添加重复证件号）","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证证件号码的唯一性（同一用户不能添加重复证件号）"},{"ancestorTitles":["Passengers API Routes Tests","乘客积分功能"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests 乘客积分功能 获取乘客详情时应该包含积分信息","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"获取乘客详情时应该包含积分信息"},{"ancestorTitles":["Passengers API Routes Tests","乘客积分功能"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"Passengers API Routes Tests 乘客积分功能 新添加的乘客积分应该初始化为0","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"新添加的乘客积分应该初始化为0"}],"endTime":1764639066901,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\routes\\passengers.test.js","startTime":1764639060403,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["PassengerService Tests","getUserPassengers() - 获取用户的所有乘客列表"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests getUserPassengers() - 获取用户的所有乘客列表 应该返回用户的所有乘客信息","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该返回用户的所有乘客信息"},{"ancestorTitles":["PassengerService Tests","getUserPassengers() - 获取用户的所有乘客列表"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests getUserPassengers() - 获取用户的所有乘客列表 应该返回证件号码部分脱敏的乘客信息","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回证件号码部分脱敏的乘客信息"},{"ancestorTitles":["PassengerService Tests","getUserPassengers() - 获取用户的所有乘客列表"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests getUserPassengers() - 获取用户的所有乘客列表 用户没有乘客时应该返回空数组","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"用户没有乘客时应该返回空数组"},{"ancestorTitles":["PassengerService Tests","getUserPassengers() - 获取用户的所有乘客列表"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests getUserPassengers() - 获取用户的所有乘客列表 应该按添加时间排序乘客列表","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该按添加时间排序乘客列表"},{"ancestorTitles":["PassengerService Tests","searchPassengers() - 搜索乘客"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests searchPassengers() - 搜索乘客 应该根据姓名关键词搜索匹配的乘客","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该根据姓名关键词搜索匹配的乘客"},{"ancestorTitles":["PassengerService Tests","searchPassengers() - 搜索乘客"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests searchPassengers() - 搜索乘客 应该支持模糊匹配","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该支持模糊匹配"},{"ancestorTitles":["PassengerService Tests","searchPassengers() - 搜索乘客"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests searchPassengers() - 搜索乘客 搜索无结果时应该返回空数组","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"搜索无结果时应该返回空数组"},{"ancestorTitles":["PassengerService Tests","searchPassengers() - 搜索乘客"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests searchPassengers() - 搜索乘客 关键词为空时应该返回所有乘客","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"关键词为空时应该返回所有乘客"},{"ancestorTitles":["PassengerService Tests","getPassengerDetails() - 获取乘客详细信息"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests getPassengerDetails() - 获取乘客详细信息 应该返回指定乘客的完整信息","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该返回指定乘客的完整信息"},{"ancestorTitles":["PassengerService Tests","getPassengerDetails() - 获取乘客详细信息"],"duration":28,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests getPassengerDetails() - 获取乘客详细信息 乘客不存在时应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"乘客不存在时应该抛出错误"},{"ancestorTitles":["PassengerService Tests","getPassengerDetails() - 获取乘客详细信息"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests getPassengerDetails() - 获取乘客详细信息 乘客不属于当前用户时应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"乘客不属于当前用户时应该抛出错误"},{"ancestorTitles":["PassengerService Tests","getPassengerPoints() - 获取乘客积分"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests getPassengerPoints() - 获取乘客积分 应该返回指定乘客的积分","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该返回指定乘客的积分"},{"ancestorTitles":["PassengerService Tests","getPassengerPoints() - 获取乘客积分"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests getPassengerPoints() - 获取乘客积分 乘客不存在时应该返回0","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"乘客不存在时应该返回0"},{"ancestorTitles":["PassengerService Tests","getPassengerPoints() - 获取乘客积分"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests getPassengerPoints() - 获取乘客积分 新创建的乘客积分应该为0","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"新创建的乘客积分应该为0"},{"ancestorTitles":["PassengerService Tests","createPassenger() - 创建乘客"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests createPassenger() - 创建乘客 应该成功创建乘客并返回乘客ID","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该成功创建乘客并返回乘客ID"},{"ancestorTitles":["PassengerService Tests","createPassenger() - 创建乘客"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests createPassenger() - 创建乘客 证件号码已存在时应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"证件号码已存在时应该抛出错误"},{"ancestorTitles":["PassengerService Tests","createPassenger() - 创建乘客"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests createPassenger() - 创建乘客 应该验证姓名长度在3-30个字符之间","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证姓名长度在3-30个字符之间"},{"ancestorTitles":["PassengerService Tests","createPassenger() - 创建乘客"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests createPassenger() - 创建乘客 应该验证证件号码格式","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证证件号码格式"},{"ancestorTitles":["PassengerService Tests","createPassenger() - 创建乘客"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests createPassenger() - 创建乘客 新创建的乘客积分应该初始化为0","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"新创建的乘客积分应该初始化为0"},{"ancestorTitles":["PassengerService Tests","createPassenger() - 创建乘客"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests createPassenger() - 创建乘客 应该支持特殊字符的姓名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该支持特殊字符的姓名"},{"ancestorTitles":["PassengerService Tests","updatePassenger() - 更新乘客信息"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests updatePassenger() - 更新乘客信息 应该成功更新乘客信息","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该成功更新乘客信息"},{"ancestorTitles":["PassengerService Tests","updatePassenger() - 更新乘客信息"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests updatePassenger() - 更新乘客信息 乘客不存在时应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"乘客不存在时应该抛出错误"},{"ancestorTitles":["PassengerService Tests","updatePassenger() - 更新乘客信息"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests updatePassenger() - 更新乘客信息 乘客不属于当前用户时应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"乘客不属于当前用户时应该抛出错误"},{"ancestorTitles":["PassengerService Tests","updatePassenger() - 更新乘客信息"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests updatePassenger() - 更新乘客信息 应该验证更新数据的格式","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证更新数据的格式"},{"ancestorTitles":["PassengerService Tests","deletePassenger() - 删除乘客"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests deletePassenger() - 删除乘客 应该成功删除乘客","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该成功删除乘客"},{"ancestorTitles":["PassengerService Tests","deletePassenger() - 删除乘客"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests deletePassenger() - 删除乘客 乘客不存在时应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"乘客不存在时应该抛出错误"},{"ancestorTitles":["PassengerService Tests","deletePassenger() - 删除乘客"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests deletePassenger() - 删除乘客 乘客不属于当前用户时应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"乘客不属于当前用户时应该抛出错误"},{"ancestorTitles":["PassengerService Tests","deletePassenger() - 删除乘客"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests deletePassenger() - 删除乘客 乘客有未完成的订单时应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"乘客有未完成的订单时应该抛出错误"},{"ancestorTitles":["PassengerService Tests","maskIdNumber() - 证件号码脱敏"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests maskIdNumber() - 证件号码脱敏 应该对18位身份证号进行脱敏","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该对18位身份证号进行脱敏"},{"ancestorTitles":["PassengerService Tests","maskIdNumber() - 证件号码脱敏"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests maskIdNumber() - 证件号码脱敏 应该保留前4位和后3位","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该保留前4位和后3位"},{"ancestorTitles":["PassengerService Tests","maskIdNumber() - 证件号码脱敏"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests maskIdNumber() - 证件号码脱敏 应该将中间部分替换为11个星号","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该将中间部分替换为11个星号"},{"ancestorTitles":["PassengerService Tests","maskIdNumber() - 证件号码脱敏"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests maskIdNumber() - 证件号码脱敏 非18位证件号应该返回原值或抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"非18位证件号应该返回原值或抛出错误"},{"ancestorTitles":["PassengerService Tests","maskIdNumber() - 证件号码脱敏"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests maskIdNumber() - 证件号码脱敏 空值应该返回空字符串","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"空值应该返回空字符串"},{"ancestorTitles":["PassengerService Tests","边界情况和错误处理"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests 边界情况和错误处理 应该正确处理数据库连接错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确处理数据库连接错误"},{"ancestorTitles":["PassengerService Tests","边界情况和错误处理"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests 边界情况和错误处理 应该正确处理并发创建乘客请求","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确处理并发创建乘客请求"},{"ancestorTitles":["PassengerService Tests","边界情况和错误处理"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests 边界情况和错误处理 应该正确处理超长的姓名","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确处理超长的姓名"},{"ancestorTitles":["PassengerService Tests","边界情况和错误处理"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests 边界情况和错误处理 应该正确处理特殊字符注入攻击","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确处理特殊字符注入攻击"},{"ancestorTitles":["PassengerService Tests","边界情况和错误处理"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"PassengerService Tests 边界情况和错误处理 应该正确处理大量乘客列表","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确处理大量乘客列表"}],"endTime":1764639073558,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\services\\passengerService.test.js","startTime":1764639066983,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["OrderService Tests","getDefaultSeatType() - 获取默认席别"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests getDefaultSeatType() - 获取默认席别 G字头车次应该返回\"二等座\"作为默认席别","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"G字头车次应该返回\"二等座\"作为默认席别"},{"ancestorTitles":["OrderService Tests","getDefaultSeatType() - 获取默认席别"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests getDefaultSeatType() - 获取默认席别 C字头车次应该返回\"二等座\"作为默认席别","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"C字头车次应该返回\"二等座\"作为默认席别"},{"ancestorTitles":["OrderService Tests","getDefaultSeatType() - 获取默认席别"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests getDefaultSeatType() - 获取默认席别 D字头车次应该返回\"二等座\"作为默认席别","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"D字头车次应该返回\"二等座\"作为默认席别"},{"ancestorTitles":["OrderService Tests","getDefaultSeatType() - 获取默认席别"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests getDefaultSeatType() - 获取默认席别 车次不存在时应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"车次不存在时应该抛出错误"},{"ancestorTitles":["OrderService Tests","getAvailableSeatTypes() - 获取有票席别列表"],"duration":14,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests getAvailableSeatTypes() - 获取有票席别列表 应该只返回有余票的席别","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"应该只返回有余票的席别"},{"ancestorTitles":["OrderService Tests","getAvailableSeatTypes() - 获取有票席别列表"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests getAvailableSeatTypes() - 获取有票席别列表 已售罄的席别不应该包含在列表中","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"已售罄的席别不应该包含在列表中"},{"ancestorTitles":["OrderService Tests","getAvailableSeatTypes() - 获取有票席别列表"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests getAvailableSeatTypes() - 获取有票席别列表 所有席别售罄时应该返回空数组","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"所有席别售罄时应该返回空数组"},{"ancestorTitles":["OrderService Tests","createOrder() - 创建订单"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests createOrder() - 创建订单 应该成功创建订单并返回订单详情","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该成功创建订单并返回订单详情"},{"ancestorTitles":["OrderService Tests","createOrder() - 创建订单"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests createOrder() - 创建订单 未选择乘车人时应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"未选择乘车人时应该抛出错误"},{"ancestorTitles":["OrderService Tests","getOrderDetails() - 获取订单详细信息"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests getOrderDetails() - 获取订单详细信息 应该返回完整的订单详情","invocations":1,"location":null,"numPassingAsserts":6,"retryReasons":[],"status":"passed","title":"应该返回完整的订单详情"},{"ancestorTitles":["OrderService Tests","getOrderDetails() - 获取订单详细信息"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests getOrderDetails() - 获取订单详细信息 订单不存在时应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"订单不存在时应该抛出错误"},{"ancestorTitles":["OrderService Tests","getOrderDetails() - 获取订单详细信息"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests getOrderDetails() - 获取订单详细信息 订单不属于当前用户时应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"订单不属于当前用户时应该抛出错误"},{"ancestorTitles":["OrderService Tests","updateOrderStatus() - 更新订单状态"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests updateOrderStatus() - 更新订单状态 应该成功更新订单状态","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该成功更新订单状态"},{"ancestorTitles":["OrderService Tests","updateOrderStatus() - 更新订单状态"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests updateOrderStatus() - 更新订单状态 订单不存在时应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"订单不存在时应该抛出错误"},{"ancestorTitles":["OrderService Tests","releaseSeatLocks() - 释放座位锁定"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests releaseSeatLocks() - 释放座位锁定 应该释放指定订单的所有座位锁定","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该释放指定订单的所有座位锁定"},{"ancestorTitles":["OrderService Tests","releaseSeatLocks() - 释放座位锁定"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests releaseSeatLocks() - 释放座位锁定 订单没有锁定的座位时不应该抛出错误","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"订单没有锁定的座位时不应该抛出错误"},{"ancestorTitles":["OrderService Tests","calculateOrderTotalPrice() - 计算订单总价"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests calculateOrderTotalPrice() - 计算订单总价 应该正确计算多个乘客的订单总价","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该正确计算多个乘客的订单总价"},{"ancestorTitles":["OrderService Tests","calculateOrderTotalPrice() - 计算订单总价"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"OrderService Tests calculateOrderTotalPrice() - 计算订单总价 单个乘客的订单应该返回单张票价","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"单个乘客的订单应该返回单张票价"}],"endTime":1764639080175,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\services\\orderService.test.js","startTime":1764639073589,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["车次数据完整性测试","车次基本信息完整性"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"车次数据完整性测试 车次基本信息完整性 数据库应包含JSON中的所有车次","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"数据库应包含JSON中的所有车次"},{"ancestorTitles":["车次数据完整性测试","车次基本信息完整性"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"车次数据完整性测试 车次基本信息完整性 车次的基本信息应与JSON一致","invocations":1,"location":null,"numPassingAsserts":18,"retryReasons":[],"status":"passed","title":"车次的基本信息应与JSON一致"},{"ancestorTitles":["车次数据完整性测试","停靠站信息完整性"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"车次数据完整性测试 停靠站信息完整性 车次的停靠站数量应与JSON一致","invocations":1,"location":null,"numPassingAsserts":46,"retryReasons":[],"status":"passed","title":"车次的停靠站数量应与JSON一致"},{"ancestorTitles":["车次数据完整性测试","车厢配置完整性"],"duration":9,"failureDetails":[],"failureMessages":[],"fullName":"车次数据完整性测试 车厢配置完整性 车次的车厢数量应与JSON一致","invocations":1,"location":null,"numPassingAsserts":18,"retryReasons":[],"status":"passed","title":"车次的车厢数量应与JSON一致"},{"ancestorTitles":["车次数据完整性测试","车厢配置完整性"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"车次数据完整性测试 车厢配置完整性 应有正确的席别类型统计","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应有正确的席别类型统计"},{"ancestorTitles":["车次数据完整性测试","票价信息完整性"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"车次数据完整性测试 票价信息完整性 车次的票价段数应与JSON一致","invocations":1,"location":null,"numPassingAsserts":49,"retryReasons":[],"status":"passed","title":"车次的票价段数应与JSON一致"},{"ancestorTitles":["车次数据完整性测试","座位状态初始化完整性"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"车次数据完整性测试 座位状态初始化完整性 所有非餐车车厢都应有座位状态记录","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"所有非餐车车厢都应有座位状态记录"},{"ancestorTitles":["车次数据完整性测试","座位状态初始化完整性"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"车次数据完整性测试 座位状态初始化完整性 每个座位应为每个区间段都有状态记录","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"每个座位应为每个区间段都有状态记录"},{"ancestorTitles":["车次数据完整性测试","座位状态初始化完整性"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"车次数据完整性测试 座位状态初始化完整性 所有初始座位状态应为available","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"所有初始座位状态应为available"},{"ancestorTitles":["车次数据完整性测试","站点数据完整性"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"车次数据完整性测试 站点数据完整性 应包含所有车次途经的站点","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"应包含所有车次途经的站点"},{"ancestorTitles":["车次数据完整性测试","数据约束验证"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"车次数据完整性测试 数据约束验证 车次号应唯一","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"车次号应唯一"},{"ancestorTitles":["车次数据完整性测试","数据约束验证"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"车次数据完整性测试 数据约束验证 停靠站序号应连续且唯一","invocations":1,"location":null,"numPassingAsserts":9,"retryReasons":[],"status":"passed","title":"停靠站序号应连续且唯一"},{"ancestorTitles":["车次数据完整性测试","数据约束验证"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"车次数据完整性测试 数据约束验证 车厢号应连续","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"车厢号应连续"}],"endTime":1764639087097,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\services\\trainDataIntegrity.test.js","startTime":1764639080228,"status":"passed","summary":""},{"assertionResults":[{"ancestorTitles":["userInfoDbService","getUserInfo - 获取用户的完整个人信息"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService getUserInfo - 获取用户的完整个人信息 应该根据用户ID返回完整的用户信息","invocations":1,"location":null,"numPassingAsserts":14,"retryReasons":[],"status":"passed","title":"应该根据用户ID返回完整的用户信息"},{"ancestorTitles":["userInfoDbService","getUserInfo - 获取用户的完整个人信息"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService getUserInfo - 获取用户的完整个人信息 应该对手机号进行脱敏处理（中间四位用*隐去）","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该对手机号进行脱敏处理（中间四位用*隐去）"},{"ancestorTitles":["userInfoDbService","getUserInfo - 获取用户的完整个人信息"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService getUserInfo - 获取用户的完整个人信息 应该在用户不存在时返回null","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该在用户不存在时返回null"},{"ancestorTitles":["userInfoDbService","updateUserEmail - 更新用户的邮箱地址"],"duration":16,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService updateUserEmail - 更新用户的邮箱地址 应该成功更新用户的邮箱地址","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该成功更新用户的邮箱地址"},{"ancestorTitles":["userInfoDbService","updateUserEmail - 更新用户的邮箱地址"],"duration":25,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService updateUserEmail - 更新用户的邮箱地址 应该验证邮箱格式的合法性","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证邮箱格式的合法性"},{"ancestorTitles":["userInfoDbService","updateUserEmail - 更新用户的邮箱地址"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService updateUserEmail - 更新用户的邮箱地址 应该记录更新时间","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该记录更新时间"},{"ancestorTitles":["userInfoDbService","updateUserPhone - 更新用户的手机号"],"duration":10,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService updateUserPhone - 更新用户的手机号 应该成功更新用户的手机号","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该成功更新用户的手机号"},{"ancestorTitles":["userInfoDbService","updateUserPhone - 更新用户的手机号"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService updateUserPhone - 更新用户的手机号 应该验证新手机号未被其他用户使用","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证新手机号未被其他用户使用"},{"ancestorTitles":["userInfoDbService","updateUserPhone - 更新用户的手机号"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService updateUserPhone - 更新用户的手机号 应该记录更新时间","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该记录更新时间"},{"ancestorTitles":["userInfoDbService","updateUserDiscountType - 更新用户的优惠类型"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService updateUserDiscountType - 更新用户的优惠类型 应该成功更新用户的优惠类型","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该成功更新用户的优惠类型"},{"ancestorTitles":["userInfoDbService","updateUserDiscountType - 更新用户的优惠类型"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService updateUserDiscountType - 更新用户的优惠类型 应该验证优惠类型的合法性","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该验证优惠类型的合法性"},{"ancestorTitles":["userInfoDbService","updateUserDiscountType - 更新用户的优惠类型"],"duration":23,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService updateUserDiscountType - 更新用户的优惠类型 应该支持所有有效的优惠类型","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"应该支持所有有效的优惠类型"},{"ancestorTitles":["userInfoDbService","getUserOrders - 获取用户的订单列表"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService getUserOrders - 获取用户的订单列表 应该返回用户的所有订单","invocations":1,"location":null,"numPassingAsserts":10,"retryReasons":[],"status":"passed","title":"应该返回用户的所有订单"},{"ancestorTitles":["userInfoDbService","getUserOrders - 获取用户的订单列表"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService getUserOrders - 获取用户的订单列表 应该支持按日期范围筛选订单","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该支持按日期范围筛选订单"},{"ancestorTitles":["userInfoDbService","getUserOrders - 获取用户的订单列表"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService getUserOrders - 获取用户的订单列表 应该只返回30日内的订单","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该只返回30日内的订单"},{"ancestorTitles":["userInfoDbService","getUserOrders - 获取用户的订单列表"],"duration":5,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService getUserOrders - 获取用户的订单列表 应该按创建时间倒序排列订单","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"应该按创建时间倒序排列订单"},{"ancestorTitles":["userInfoDbService","getUserOrders - 获取用户的订单列表"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService getUserOrders - 获取用户的订单列表 应该在用户没有订单时返回空数组","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该在用户没有订单时返回空数组"},{"ancestorTitles":["userInfoDbService","searchOrders - 搜索用户的订单"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService searchOrders - 搜索用户的订单 应该支持按订单号搜索","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该支持按订单号搜索"},{"ancestorTitles":["userInfoDbService","searchOrders - 搜索用户的订单"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService searchOrders - 搜索用户的订单 应该支持按车次号搜索","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该支持按车次号搜索"},{"ancestorTitles":["userInfoDbService","searchOrders - 搜索用户的订单"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService searchOrders - 搜索用户的订单 应该支持按乘客姓名搜索","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"应该支持按乘客姓名搜索"},{"ancestorTitles":["userInfoDbService","searchOrders - 搜索用户的订单"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService searchOrders - 搜索用户的订单 应该支持按乘车日期范围筛选","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"应该支持按乘车日期范围筛选"},{"ancestorTitles":["userInfoDbService","searchOrders - 搜索用户的订单"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService searchOrders - 搜索用户的订单 应该支持组合条件搜索","invocations":1,"location":null,"numPassingAsserts":4,"retryReasons":[],"status":"passed","title":"应该支持组合条件搜索"},{"ancestorTitles":["userInfoDbService","searchOrders - 搜索用户的订单"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"userInfoDbService searchOrders - 搜索用户的订单 应该在没有匹配结果时返回空数组","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"应该在没有匹配结果时返回空数组"}],"endTime":1764639093539,"message":"","name":"D:\\软件工程与项目管理\\Our-12306-CS3604\\backend\\test\\services\\userInfoDbService.test.js","startTime":1764639087107,"status":"passed","summary":""}],"wasInterrupted":false}
