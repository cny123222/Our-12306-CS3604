9. 订单支付页
    9.1 订单支付页布局
        9.1.1 整体布局：页面背景为white（白色），整体从上到下分为四部分：**顶部导航栏区域**、**席位锁定时效倒计时区域**、**订单信息与确认支付区**、**温馨提示面板与广告面板**，主内容区域最大宽度1200px，内边距20px

        9.1.2 顶部导航区域：
            - **Logo 区域**：页面左上角为Logo区域（直接使用图片"登录页-顶部导航区域-Logo区域.png"），左侧为中国铁路12306官方Logo，logo右侧上方为黑色"中国铁路12306"、下方为灰色"12306 CHINA RAILWAY"，点击logo可跳转到12306首页
            - **欢迎信息**：Logo区域右侧为欢迎信息区域，显示黑色"欢迎登录12306"

        9.1.3 主导航栏（MainNavigation）
            - **整体样式**：背景为#3B99FC（蓝色），底部边框为#2a88eb（深蓝色），阴影为0 2px 5px rgba(0, 0, 0, 0.12)，高度45px，最大宽度1400px，内边距0 40px，粘性定位（sticky）
            - **导航项目**：包含"车票查询"、"订单查询"、"我的12306"等导航项，每个导航项平分宽度（flex: 1），内边距0 24px，字体大小16px，文字颜色white（白色），hover时背景#2676E3（深蓝色），左侧边框为rgba(255, 255, 255, 0.1)（半透明白色）
            - **登录/注册按钮**：位于导航栏右侧，内边距6px 18px，边框为rgba(255, 255, 255, 0.8)（半透明白色），圆角4px，背景rgba(255, 255, 255, 0.1)（半透明白色），文字颜色white（白色），字体大小14px，字体加粗（font-weight: 500），hover时背景rgba(255, 255, 255, 0.25)（更亮的半透明白色）

        9.1.4 席位锁定时效倒计时区域（PaymentCountdownTimer）
            - **整体样式**：flex布局，align-items: center，内边距16px 40px，背景white（白色），边框为1px solid #69afdd（蓝色），无圆角，上边距0，下边距20px，最大宽度1100px，居中对齐，间距20px
            - **锁图标**（payment-countdown-icon）：flex-shrink: 0，尺寸40px×40px（直接使用图片"/images/lock.png"）
            - **文字信息**（payment-countdown-text）：flex: 1，字体大小16px，颜色#000（黑色），行高1.6，内容为"席位已锁定，请在提示时间内尽快完成支付，完成网上购票。支付剩余时间："
            - **倒计时时间**（payment-countdown-time）：字体加粗（font-weight: 800），颜色#ff6600（橙色），字体大小16px，格式为"xx分xx秒"（实时倒计时，从用户在**核对信息弹窗**点击**确认**按钮，跳转到订单支付页的20分钟倒计时）
            - **警告状态**（payment-countdown-warning）：当剩余时间少于5分钟时，倒计时时间颜色变为#ff0000（红色），带有脉冲动画效果（animation: payment-countdown-pulse 1s infinite）
            - **过期状态**（payment-countdown-expired）：背景颜色#fff3f3（浅红色），边框颜色#ffcccc（浅红色），倒计时时间颜色#ff0000（红色），显示"00分00秒"

        9.1.5 订单信息与确认支付区（OrderInfoDisplay）
            - **整体容器**（payment-order-info-container）：最大宽度1100px，居中对齐
            - **订单信息显示组件**（payment-order-info-display）：背景white（白色），边框为1px solid #c0d7eb（浅蓝色），圆角10px 0px，上边距20px，居中对齐，overflow: hidden
            - **订单信息标题栏**（payment-order-info-header）：背景渐变色（从#3698d5到#1d82bd），圆角10px 10px 0px 0px，内边距5px 20px，底部边框为2px solid #8fcdec（浅蓝色），字体大小16px，字体加粗（font-weight: 500），文字颜色white（白色），字间距0.5px，标题内容为"订单信息"
            - **订单信息内容区域**（payment-order-info-content）：背景white（白色），内边距20px 20px 0px 20px
            - **车次信息行**（payment-train-info-row）：下边距20px，字体大小20px，颜色#333333（深灰色），行高20px，flex布局，align-items: center，flex-wrap: wrap，间距10px
                - **日期**（payment-train-date）：字体加粗（font-weight: 800），颜色#000000（黑色），字体大小20px，格式为"2025-12-05 （周五）"
                - **车次号**（payment-train-no）：字体加粗（font-weight: 800），颜色#000000（黑色），字体大小20px，例如"G499"
                - **"次"文字**（payment-train-text）：字体加粗（font-weight: 400），颜色#000000（黑色），字体大小16px
                - **站点名称**（payment-train-station）：字体加粗（font-weight: 800），颜色#0066cc（蓝色），字体大小20px，例如"上海虹桥"、"杭州东"
                - **时间信息**（payment-train-bold-group）：字体加粗（font-weight: 800），颜色#000000（黑色），字体大小20px，例如"（11:00 开）—"、"（11:45 到）"
                - **完整示例**："2025-12-05 （周五） G499 次上海虹桥 站（11:00 开）—杭州东 站（11:45 到）"
            - **乘车信息表格**（payment-passenger-table-container）：内边距0，上边距12px，背景transparent（透明）
                - **表格**（payment-passenger-table）：宽度100%，边框合并，字体大小14px，下边距0
                - **表头**（thead）：背景渐变色（从#ffffff到#d9d9d9），单元格内边距10px 8px，居中对齐，字体加粗（font-weight: 500），颜色#111（深灰色），顶部边框为1px solid #999999（灰色），底部边框为1px solid #d0d0d0（浅灰色），左侧和右侧无边框，第一列左侧边框为1px solid #d0d0d0（浅灰色），最后一列右侧边框为1px solid #d0d0d0（浅灰色），字体大小15px，包含"序号"、"姓名"、"证件类型"、"证件号码"、"票种"、"席别"、"车厢"、"席位号"、"票价（元）"等字段
                - **表格行**（tbody tr）：单元格内边距12px 8px，居中对齐，顶部无边框，底部边框为1px solid #d0d0d0（浅灰色），左侧和右侧无边框，第一列左侧边框为1px solid #d0d0d0（浅灰色），最后一列右侧边框为1px solid #d0d0d0（浅灰色），颜色#111（深灰色），背景#eff1f9（浅蓝色），最后一行底部边框为1px solid #999999（灰色），hover时背景#e5e7ef（浅灰色）
                - **证件号码**：中间打码显示，格式为"前4位+****+后3位"，例如"3301*******028"
                - **车厢号**：格式为"06车"（两位数字，不足两位前面补0）
                - **席位号**：格式为"07D号"（根据席别类型格式化显示）
                - **票价**：格式为"xx.x元"（保留一位小数）
            - **保险区域**（payment-insurance-section）：内边距0，上边距20px，背景transparent（透明），overflow: hidden
                - **保险图片**（payment-insurance-image）：宽度100%，高度自适应，直接使用图片"/images/ensurance.png"
            - **总票价行**（payment-total-price-row）：内边距15px 0，上内边距12px，右内边距20px，右对齐，背景transparent（透明），底部边框为1px solid #70a9d5（浅蓝色）
                - **总票价标签**（payment-total-label）：字体大小14px，颜色#333（深灰色），右边距10px，内容为"总票价："
                - **总票价金额**（payment-total-amount）：字体大小20px，字体加粗（font-weight: 600），颜色#ff6600（橙色），格式为"xx.x 元"（保留一位小数）
            - **操作按钮区域**（payment-actions）：flex布局，居中对齐，间距40px，上边距20px，下边距20px，内边距0
                - **"取消订单"按钮**（cancel-order-button）：内边距10px 40px，无边框，圆角5px，字体大小15px，字体加粗（font-weight: 500），最小宽度140px，背景white（白色），文字颜色#666（深灰色），边框为1px solid #d0d0d0（浅灰色），hover时背景#f5f5f5（浅灰色），边框#b0b0b0（灰色），禁用时透明度0.6，cursor: not-allowed
                - **"网上支付"按钮**（confirm-payment-button）：内边距10px 40px，无边框，圆角5px，字体大小15px，字体加粗（font-weight: 500），最小宽度140px，背景#ff7200（橙色），文字white（白色），边框为1px solid #ff7200（橙色），hover时背景#ff8533（浅橙色），边框#ff8533（浅橙色），禁用时透明度0.6，cursor: not-allowed，处理中时显示"处理中..."文字

        9.1.6 温馨提示面板（payment-warm-tips-section）
            - **整体样式**：背景#fffbe5（浅黄色），边框为1px solid #f5e6a8（浅黄色边框），无圆角，内边距10px 15px，上边距20px，下边距0
            - **标题**（payment-tips-title）：字体大小15px，字体加粗（font-weight: 700），颜色#333333（深灰色），下边距5px，内容为"温馨提示："
            - **提示列表**（payment-tips-list）：有序列表，左内边距15px，list-style-position: outside，list-style-type: decimal
            - **提示项**（payment-tip-item）：字体大小14px，颜色#000000（黑色），行高22px，下边距2px，左内边距4px，最后一项下边距0
            - **链接**：颜色#0073e7（蓝色），无下划线，hover时颜色#0052a3（深蓝色），例如"退改说明"、"www.china-ric.com"
            - **提示内容**：
                1. 请在指定时间内完成网上支付。
                2. 逾期未支付，系统将取消本次交易。
                3. 在完成支付或取消本订单之前，您将无法购买其他车票。
                4. 购买铁路乘意险保障您的出行安全，提供意外伤害身故伤残、意外伤害医疗费用、意外伤害住院津贴、突发急性病身故保障，同时保障您和随行被监护人因疏忽或过失造成第三者人身伤亡和财产损失依法应由您承担的直接经济赔偿责任，详见保险条款
                5. 请充分理解保险责任、责任免除、保险期间、合同解除等约定，详见保险条款。凭保单号或保单查询号登录www.china-ric.com 查看电子保单或下载电子发票。
                6. 如因运力原因或其他不可控因素导致列车调度调整时，当前车型可能会发生变动。
                7. 跨境旅客旅行须知详见铁路跨境旅客相关运输组织规则和车站公告。
                8. 未尽事宜详见《国铁集团铁路旅客运输规程》等有关规定和车站公告。

        9.1.7 底部导航区域
            - 与首页保持一致
            - **底部导航**：左侧为友情链接，右侧为四个官方平台的二维码，分别为"中国铁路官方微信"（直接使用图片二维码"中国铁路官方微信二维码.png"）、"中国铁路官方微博"（直接使用图片二维码"中国铁路官方微博二维码.png"）、"12306 公众号"（直接使用图片二维码"12306公众号二维码.png"）、"铁路 12306"（直接使用图片二维码"铁路12306二维码.png"）

        9.1.8 交易提示弹窗（CancelOrderModal）
            - **整体布局**：弹窗覆盖整个页面，背景遮罩为rgba(0, 0, 0, 0.5)（半透明黑色），弹窗宽度100%，最大宽度600px，背景white（白色），边框为1px solid #c0d7eb（浅蓝色），圆角10px，阴影0 4px 12px rgba(0, 0, 0, 0.3)，overflow: hidden，z-index: 10000
            - **标题栏**（cancel-order-modal-header）：背景渐变色（从#3698d5到#1d82bd），圆角10px 10px 0px 0px，内边距5px 20px，底部边框为2px solid #8fcdec（浅蓝色）
                - **标题**（cancel-order-modal-title）：上边距5px，下边距5px，字体大小16px，字体加粗（font-weight: 500），颜色white（白色），字间距0.5px，内容为"交易提示"
            - **内容区域**（cancel-order-modal-body）：内边距30px 50px 10px 50px，背景white（白色）
                - **内容包装器**（cancel-order-modal-content-wrapper）：flex布局，间距20px，align-items: flex-start
                - **问号图标**（cancel-order-icon）：flex-shrink: 0，尺寸80px×80px，上边距10px，直接使用图片"/images/question.png"
                - **文字内容区**（cancel-order-text-content）：flex: 1，上内边距5px
                    - **问题文字**（cancel-order-question）：字体大小20px，字体加粗（font-weight: 700），颜色#000000（黑色），下边距5px，行高1.4，内容为"您确认取消订单吗？"
                    - **警告文字**（cancel-order-warning）：字体大小13px，颜色#666666（灰色），行高1.8，内容为"一天内3次申请车票成功后取消订单（包含无座车票或不符合选铺需求车票时取消5次计为取消1次），当日将不能在12306继续购票。"
            - **按钮区域**（cancel-order-modal-footer）：内边距20px，背景white（白色），flex布局，居中对齐，间距30px
                - **"取消"按钮**（cancel-button）：内边距10px 40px，无边框，圆角5px，字体大小15px，字体加粗（font-weight: 500），最小宽度140px，背景white（白色），文字颜色#666（深灰色），边框为1px solid #d0d0d0（浅灰色），hover时背景#f5f5f5（浅灰色），边框#b0b0b0（灰色），点击弹窗消失，回到之前的**订单支付页**
                - **"确认"按钮**（confirm-button）：内边距10px 40px，无边框，圆角5px，字体大小15px，字体加粗（font-weight: 500），最小宽度140px，背景#ff7200（橙色），文字white（白色），边框为1px solid #ff7200（橙色），hover时背景#ff8533（浅橙色），边框#ff8533（浅橙色），点击跳转到**车次列表页**

        9.1.9 超时提示弹窗（TimeoutModal）
            - **整体布局**：弹窗覆盖整个页面，背景遮罩为rgba(0, 0, 0, 0.5)（半透明黑色），弹窗宽度90%，最大宽度400px，背景white（白色），圆角8px，阴影0 4px 12px rgba(0, 0, 0, 0.3)，z-index: 10000
            - **内容区域**（timeout-modal-body）：内边距30px 20px，居中对齐
                - **提示消息**（timeout-modal-message）：字体大小16px，颜色#333（深灰色），字体加粗（font-weight: 500），内容为"支付超时，请重新购票"
            - **按钮区域**（timeout-modal-footer）：内边距15px 20px，顶部边框为1px solid #e0e0e0（浅灰色），flex布局，居中对齐
                - **"确认"按钮**（timeout-modal-button）：内边距10px 30px，背景#ff6600（橙色），文字white（白色），无边框，圆角4px，字体大小14px，字体加粗，最小宽度100px，hover时背景#ff8833（浅橙色），点击跳转到**车次列表页**

    9.2 跳转**订单支付页**
        9.2.1 从订单填写页跳转
            Scenario：页面从**订单填写页**跳转**订单支付页**
                Given：乘客在**订单填写页**的**信息核对弹窗**
                When：乘客点击**确认**按钮
                Then：数据库从相应车次为乘客分配座位，创建对应**订单**，状态为**已确认未支付**
                And：数据库中为该订单设置一个时效项为20分钟，记录**订单创建时间**为当前时间
                And：为乘客分配的座位信息由**空闲**改为**已被预定**
                And：页面在100ms内跳转到**订单支付页**，显示**席位锁定时效倒计时区域**，倒计时从20分钟开始

        9.2.2 从未完成车票子页面跳转
            Scenario：页面从**未完成订单页**跳转到**订单支付页**
                Given：乘客在**火车票订单**的**未完成订单子页面**
                When：用户点击未完成车票下方的**去支付**按钮
                Then：页面在100ms内跳转到**订单支付页**，显示**席位锁定时效倒计时区域**，倒计时显示该订单的剩余有效时间

    9.3 **订单支付页**倒计时
        9.3.1 倒计时机制
            - 每个处于**已确认未支付**状态的订单时效为20分钟，若订单超时，则释放被该订单锁定的座位，并从订单数据库中删除该订单
            - 如果在20分钟内，订单支付成功，则将订单状态从**已确认未支付**改为**已支付**，保留数据库车次信息中相应座位在对应站点之间的锁定状态
            - 每次加载**订单支付页**时，显示的**支付剩余时间倒计时**应为订单剩余时效，需要从数据库中读取该订单的**订单创建时间**并求出订单还剩余多少有效时间
            - 倒计时每1秒更新一次，格式为"xx分xx秒"（分钟和秒数均为两位数字，不足两位前面补0）
            - 当剩余时间少于5分钟时，倒计时时间颜色变为#ff0000（红色），带有脉冲动画效果
            - 当倒计时结束时，倒计时面板背景变为#fff3f3（浅红色），边框颜色变为#ffcccc（浅红色），倒计时时间显示"00分00秒"，颜色#ff0000（红色）

    9.4 用户在确认支付
        Scenario：用户确认支付车票
            Given：用户在**订单支付页**
            And：订单未超时（倒计时未结束）
            When：用户点击**网上支付**按钮
            Then：按钮显示"处理中..."，按钮禁用（透明度0.6，cursor: not-allowed）
            And：系统调用支付确认API（`/api/payment/${orderId}/confirm`）
            And：支付成功后，页面在100ms内跳转到**购票成功页**（`/purchase-success/${orderId}`）
            And：数据库中相应订单状态由**已确认未支付**改为**已支付**
            And：数据库相应车次，对应站点之间的对应席位状态确认为**已被预定**

        Scenario：用户确认支付车票但订单已超时
            Given：用户在**订单支付页**
            And：订单已超时（倒计时已结束，显示"00分00秒"）
            When：用户点击**网上支付**按钮
            Then：系统弹出**超时提示弹窗**（TimeoutModal），弹窗宽度90%，最大宽度400px，背景white（白色），圆角8px，阴影0 4px 12px rgba(0, 0, 0, 0.3)
                And：弹窗内容区域内边距30px 20px，居中对齐，提示文字字体大小16px，颜色#333（深灰色），字体加粗（font-weight: 500），内容为"支付超时，请重新购票"
                And：弹窗按钮区域内边距15px 20px，顶部边框为1px solid #e0e0e0（浅灰色），flex布局，居中对齐
                And：弹窗有"确认"按钮，内边距10px 30px，背景#ff6600（橙色），文字white（白色），圆角4px，字体大小14px，字体加粗，最小宽度100px，hover时背景#ff8833（浅橙色），点击跳转到**车次列表页**

    9.5 取消订单
        Scenario：用户取消订单
            Given：用户在**订单支付页**
            When：用户点击**取消订单**按钮
            Then：系统弹出**交易提示弹窗**（CancelOrderModal），弹窗宽度100%，最大宽度600px，背景white（白色），边框为1px solid #c0d7eb（浅蓝色），圆角10px，阴影0 4px 12px rgba(0, 0, 0, 0.3)
                And：弹窗标题栏背景渐变色（从#3698d5到#1d82bd），圆角10px 10px 0px 0px，内边距5px 20px，底部边框为2px solid #8fcdec（浅蓝色），标题字体大小16px，字体加粗（font-weight: 500），颜色white（白色），字间距0.5px，内容为"交易提示"
                And：弹窗内容区域内边距30px 50px 10px 50px，背景white（白色），flex布局，间距20px，align-items: flex-start
                And：问号图标尺寸80px×80px，上边距10px，直接使用图片"/images/question.png"
                And：问题文字字体大小20px，字体加粗（font-weight: 700），颜色#000000（黑色），下边距5px，行高1.4，内容为"您确认取消订单吗？"
                And：警告文字字体大小13px，颜色#666666（灰色），行高1.8，内容为"一天内3次申请车票成功后取消订单（包含无座车票或不符合选铺需求车票时取消5次计为取消1次），当日将不能在12306继续购票。"
                And：弹窗按钮区域内边距20px，背景white（白色），flex布局，居中对齐，间距30px
                And：弹窗有"取消"和"确认"按钮，"取消"按钮内边距10px 40px，背景white（白色），文字颜色#666（深灰色），边框为1px solid #d0d0d0（浅灰色），圆角5px，字体大小15px，字体加粗（font-weight: 500），最小宽度140px，hover时背景#f5f5f5（浅灰色），边框#b0b0b0（灰色），"确认"按钮内边距10px 40px，背景#ff7200（橙色），文字white（白色），边框为1px solid #ff7200（橙色），圆角5px，字体大小15px，字体加粗（font-weight: 500），最小宽度140px，hover时背景#ff8533（浅橙色），边框#ff8533（浅橙色）

        9.5.1 用户在交易提示弹窗点击**确认**
            Scenario：用户确认取消订单
                Given：用户在**订单支付页**的**交易提示弹窗**
                When：用户点击**确认**按钮
                Then：系统调用取消订单API（`/api/payment/${orderId}/cancel`）
                And：数据库存储该用户当天**取消订单**次数加1
                And：数据库相应车次对应座位状态由**已被预定**改为**空闲**
                And：数据库相应订单信息被删除
                And：页面在100ms之内跳转到**车次列表页**（`/trains`）

        9.5.2 用户在交易提示弹窗点击**取消**
            Scenario：用户选择继续支付订单
                Given：用户在**订单支付页**的**交易提示弹窗**
                When：用户点击**取消**按钮
                Then：弹窗消失，页面回到**订单支付页**，倒计时继续运行

    9.6 用户在支付页面停留超时
        Scenario：用户在**订单支付页**超时
            Given：用户在**订单支付页**
            And：用户在倒计时结束前未点击**网上支付**按钮
            When：倒计时结束，倒计时显示"00分00秒"
            Then：页面保持不变，倒计时数值不再变化，固定为"00分00秒"
            And：倒计时面板背景变为#fff3f3（浅红色），边框颜色变为#ffcccc（浅红色），倒计时时间颜色#ff0000（红色）
            And：数据库结束该车票有效时间的倒计时，对应车次对应座位状态从**已被预定**变为**空闲**
            And：数据库相应订单信息被删除
            And：当用户点击**网上支付**或**取消订单**按钮，系统弹出**超时提示弹窗**（TimeoutModal），弹窗宽度90%，最大宽度400px，背景white（白色），圆角8px，阴影0 4px 12px rgba(0, 0, 0, 0.3)
                And：弹窗内容区域内边距30px 20px，居中对齐，提示文字字体大小16px，颜色#333（深灰色），字体加粗（font-weight: 500），内容为"支付超时，请重新购票"
                And：弹窗按钮区域内边距15px 20px，顶部边框为1px solid #e0e0e0（浅灰色），flex布局，居中对齐
                And：弹窗有"确认"按钮，内边距10px 30px，背景#ff6600（橙色），文字white（白色），圆角4px，字体大小14px，字体加粗，最小宽度100px，hover时背景#ff8833（浅橙色），点击跳转到**车次列表页**（`/trains`）

    9.7 用户有未完成支付的订单
        Scenario：用户有未完成的订单并尝试购买别的车票
            Given：数据库中有该用户的处于**已确认未支付**状态的订单
            When：用户在**车次列表页**选择任意车次点击**预定**按钮
            Then：系统弹出确认弹窗（ConfirmModal），弹窗宽度90%，最大宽度400px，背景white（白色），圆角8px，阴影0 4px 12px rgba(0, 0, 0, 0.3)
                And：弹窗标题栏内边距10px 20px，底部边框为#e0e0e0（浅灰色），标题字体大小18px，字体加粗，颜色white（白色）
                And：弹窗内容区域内边距20px，提示文字字体大小18px，行高1.6，颜色#333（深灰色），内容为"您还有未处理的订单，请您到[未完成订单]进行处理！"
                And：弹窗底部按钮区域内边距15px 20px，顶部边框为#e0e0e0（浅灰色），flex布局，居中对齐，间距30px
                And：弹窗有"确认"按钮，内边距8px 20px，背景#ff6600（橙色），文字white（白色），圆角4px，字体大小14px，字体加粗，hover时背景#ff8833（浅橙色），点击可关闭弹窗，回到**车次列表页**
                And：弹窗内容中的"[未完成订单]"为蓝色链接（颜色#2876c8），带下划线，hover时颜色#1e5fa8（深蓝色），点击跳转到**个人信息页**的**火车票订单页**的**未完成订单子页面**


