# 01-首页/查询页 测试用例

说明：以下用例依据《01-首页查询页.md》场景整理，采用 Given/When/Then 表达。用例编号以模块+场景号命名，便于追踪。

通用前置条件
- 页面：用户位于首页/查询页；
- 数据：已加载12306支持站点列表与可售日期集合；
- 登录态：除特别说明，默认用户未登录；
- 环境：网络正常，后端接口可用（除失败场景）。

用例 H-1.2.1 出发地为空
- Given：用户在首页/查询页且未在车票查询表单中输入出发地
- When：点击“查询”
- Then：提示“请选择出发地”

用例 H-1.2.2 到达地为空
- Given：用户在首页/查询页且未在车票查询表单中输入到达地
- When：点击“查询”
- Then：提示“请选择到达地”

用例 H-1.2.3 出发地不合法
- Given：在出发地输入不在支持列表中的城市
- When：点击“查询”
- Then：提示“无法匹配该出发地”；下拉推荐相似站点；用户可点击推荐并填充输入框

用例 H-1.2.4 到达地不合法
- Given：在到达地输入不在支持列表中的城市
- When：点击“查询”
- Then：提示“无法匹配该到达地”；下拉推荐相似站点；用户可点击推荐并填充输入框

用例 H-1.2.5 出发地推荐（下拉显示全部站点）
- Given：用户在首页/查询页
- When：点击出发地输入框
- Then：下拉显示全部支持站点（可搜索过滤）

用例 H-1.2.6 到达地推荐（下拉显示全部站点）
- Given：用户在首页/查询页
- When：点击到达地输入框
- Then：下拉显示全部支持站点（可搜索过滤）

用例 H-1.2.7 出发日期推荐（仅可选已放票）
- Given：用户在首页/查询页
- When：点击出发日期选择框
- Then：显示日历；仅可选择已放票日期；不可选择已过期或未开票日期

用例 H-1.2.8 出发地/到达地交换
- Given：已在查询表单中选择了出发地或到达地
- When：点击“交换”按钮
- Then：交换两输入框内容；字段与校验保持一致

用例 H-1.2.9 出发日期自动填入当前日期
- Given：用户在车票查询页面，未输入出发日期或尚未进行日期输入操作
- When：页面呈现或聚焦表单
- Then：自动填入当前日期（本地时间）；不可选日期仍禁用

用例 H-1.2.10-1 用户成功查询
- Given：输入合法的出发地、到达地、出发日期
- When：点击“查询”，后端成功响应
- Then：在100毫秒内跳转至车次列表页；列表展示与选择一致的车次信息（含是否学生票/高铁/动车）

用例 H-1.2.10-2 用户查询失败
- Given：输入合法的出发地、到达地、出发日期
- When：点击“查询”，后端未成功响应
- Then：未在100毫秒内跳转；提示“查询失败，请稍后重试”；停留在当前页面并保留输入

用例 H-1.3.1-1 用户点击登录，成功
- Given：用户未登录
- When：点击“登录”按钮，系统成功响应
- Then：在100毫秒内跳转至登录页

用例 H-1.3.1-2 用户点击登录，失败
- Given：用户未登录
- When：点击“登录”按钮，系统未成功响应
- Then：未在100毫秒内跳转；提示“登录失败，请稍后重试”

用例 H-1.3.2-1 用户点击注册，成功
- Given：用户未注册/未登录
- When：点击“注册”按钮，系统成功响应
- Then：在100毫秒内跳转至注册页

用例 H-1.3.2-2 用户点击注册，失败
- Given：用户未注册/未登录
- When：点击“注册”按钮，系统未成功响应
- Then：未在100毫秒内跳转；提示“注册失败，请稍后重试”

用例 H-1.3.3 已登录入口显示
- Given：用户已登录
- When：页面加载
- Then：顶部导航仅显示“个人中心”，不显示“登录”“注册”

用例 H-1.4.1-1 个人中心跳转，成功
- Given：用户已登录
- When：点击“个人中心”入口，系统成功响应
- Then：在100毫秒内跳转至该用户的个人中心页

用例 H-1.4.1-2 个人中心跳转，失败
- Given：用户已登录
- When：点击“个人中心”入口，系统未成功响应
- Then：未在100毫秒内跳转；提示“前往个人中心失败，请稍后重试”

用例 H-1.4.2-1 未登录点击个人中心，成功
- Given：用户未登录
- When：点击“个人中心”入口，系统成功响应
- Then：在100毫秒内跳转至登录页

用例 H-1.4.2-2 未登录点击个人中心，失败
- Given：用户未登录
- When：点击“个人中心”入口，系统未成功响应
- Then：未在100毫秒内跳转；提示“请先登录12306账号！”

用例 H-1.5-1 车票查询快捷入口，成功
- Given：用户在首页/查询页
- When：点击“车票查询”入口，系统成功响应
- Then：在100毫秒内跳转至车票查询页

用例 H-1.5-2 车票查询快捷入口，失败
- Given：用户在首页/查询页
- When：点击“车票查询”入口，系统未成功响应
- Then：未在100毫秒内跳转；提示“查询失败，请稍后重试”

备注与检查点
- 交互一致性：输入框焦点、下拉显示/隐藏、禁用态、交换后校验重新触发；
- 文案一致性：提示文案需与需求原文一致；
- 性能观察：路由跳转耗时采集与阈值校验；
- 可用性：失败后输入不丢失，允许用户重试；