
# 1. 密码找回

## 1.1 功能性需求

### 1.1.1 用户选择“忘记密码”

- **1.1.1.1** 系统应在登录页面提供“忘记密码”选项。
- **1.1.1.2** 点击“忘记密码”后，系统应跳转到密码找回页面。
- **1.1.1.3** 密码找回页面应提供“人脸识别”、“手机号码”和“电子邮箱”三种找回方式。

### 1.1.2 人脸识别找回密码

- **1.1.2.1** 用户选择“人脸识别”后，系统应启动摄像头并提示用户进行人脸扫描。
- **1.1.2.2** 系统通过人脸识别技术验证用户身份。
- **1.1.2.3** 验证成功后，系统应允许用户设置新密码。

### 1.1.3 手机号码找回密码

- **1.1.3.1** 用户选择“手机号码”后，系统应提示用户输入注册时使用的手机号码。
- **1.1.3.2** 系统向用户手机发送短信验证码。
- **1.1.3.3** 用户输入收到的验证码。
- **1.1.3.4** 验证成功后，系统应允许用户设置新密码。

### 1.1.4 电子邮箱找回密码

- **1.1.4.1** 用户选择“电子邮箱”后，系统应提示用户输入注册时使用的电子邮箱地址。
- **1.1.4.2** 系统向用户邮箱发送密码重置链接。
- **1.1.4.3** 用户点击邮件中的链接。
- **1.1.4.4** 系统应跳转到新密码设置页面。

### 1.1.5 重置密码

- **1.1.5.1** 系统应提示用户输入新密码。
- **1.1.5.2** 系统应根据密码策略（如长度、复杂度）验证新密码。
- **1.1.5.3** 系统应提示用户确认新密码。
- **1.1.5.4** 系统更新用户密码。
- **1.1.5.5** 系统显示密码重置成功的确认信息。

## 1.2 非功能性需求

### 1.2.1 安全性

- **1.2.1.1** 所有客户端与服务器之间的通信都应使用HTTPS加密。
- **1.2.1.2** 验证码和密码重置链接应有有效期限。
- **1.2.1.3** 系统应采取措施防止暴力破解攻击。

### 1.2.2 易用性

- **1.2.2.1** 用户界面应直观、易于操作。
- **1.2.2.2** 密码找回过程中的每一步都应有清晰的指引。

### 1.2.3 性能

- **1.2.3.1** 系统对用户请求的响应时间应在合理范围内。
- **1.2.3.2** 人脸识别过程应在几秒钟内完成。

## 1.3 异常处理

### 1.3.1 无效输入

- **1.3.1.1** 如果用户输入的手机号码或电子邮箱格式不正确，系统应显示相应的错误提示。
- **1.3.1.2** 如果用户输入的验证码不正确，系统应显示错误提示。

### 1.3.2 验证失败

- **1.3.2.1** 如果人脸识别失败，系统应告知用户并建议使用其他找回方式。
- **1.3.2.2** 如果用户在多次尝试后仍无法验证身份，系统应为安全起见暂时锁定账户。

### 1.3.3 过期令牌

- **1.3.3.1** 如果验证码或密码重置链接已过期，系统应告知用户并提供重新发送的选项。
